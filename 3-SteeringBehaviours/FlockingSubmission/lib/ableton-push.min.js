!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("Push",[],n):"object"==typeof exports?exports.Push=n():t.Push=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=e(1),s=r(a),f=e(2),c=e(4),l=r(c),p=e(6),h=r(p),d=e(7),v=r(d),_=e(8),g=r(_),m=function(){function t(n,e){o(this,t),this.input=null,this.output=null,this.mapping=this.getMapping()}return u(t,[{key:"init",value:function(t){var n=this;return new Promise(function(e,r){s["default"].enable(function(o){return o?r(o):s["default"].inputs.length&&s["default"].outputs.length?(n.input=s["default"].getInputByName("Ableton Push User Port"),n.output=s["default"].getOutputByName("Ableton Push User Port"),n.input&&n.output?(n.buttons=n.mapButtons(),n.pads=n.mapPads(),n.knobs=n.mapKnobs(5),console.log("Push Initialised"),t&&n.setMode(t),e(n)):r(new Error("Cannot Find Push"))):r(new Error("No midi I/O"))})})}},{key:"setMode",value:function(t){var n=this;if(this.mapPadCols(),"fader"===t){var e=function(){var t=0;return(0,f.forEach)(n.padCols,function(e){e.setState(),n.knobs["knob"+(t+1)].addListener(function(t){e.setState(e.state+t)}),t++}),{v:console.log("Fader Mode enabled")}}();if("object"===("undefined"==typeof e?"undefined":i(e)))return e.v}return console.log("Default Mode enabled")}},{key:"setBtns",value:function(){var t=this;this.buttons.play.listen(function(){t.pads.map(function(t){return t.setState("lime")})}),this.buttons.find(function(t){return"record"===t.name}).listen(function(){t.pads.map(function(t){return t.setState("red")})});var n=this.buttons.filter(function(t){return t.name.indexOf("scene")>=0});n.map(function(n){return n.listen(function(){t.pads.filter(function(t){return row===parseInt(n.name.substr(n.name.length-1))-1}).map(function(t){return t.setState()})})})}},{key:"getEvent",value:function(t){var n=t[0],e=t[1],r=t[2];if(void 0===n||void 0===e||void 0===r)return"oops";var o=this.mapping.find(function(t){return t.id===n});if(!o)return"No instruction found "+n;var i=o.targets.find(function(t){return t.id===e});return i?{tgt:i.id,group:i.group,name:i.name,ins:o.name,value:r}:"No target found "+e}},{key:"mapButtons",value:function(){var t=this,n=this.mapping.find(function(t){return"controlchange"===t.name}),e=n.targets.filter(function(t){return"button"===t.group}),r={};return e.map(function(n){r[n.name]=new l["default"](t,{id:n.id,name:n.name,input:t.input,output:t.output}).init()}),r}},{key:"mapPads",value:function(){var t=this,n=this.mapping.find(function(t){return"noteon"===t.name}),e=n.targets.filter(function(t){return"pad"===t.group}),r={};return e.map(function(n){r[n.name]=new h["default"](t,{id:n.id,name:n.name,input:t.input,output:t.output,col:(n.id-36)%8}).init()}),r}},{key:"mapKnobs",value:function(t){var n=this,e=this.mapping.find(function(t){return"controlchange"===t.name}),r=e.targets.filter(function(t){return"knob"===t.group}),o={};return r.map(function(e){o[e.name]=new v["default"](n,{id:e.id,name:e.name,input:n.input,output:n.output,sensitivity:t}).init()}),o}},{key:"mapPadCols",value:function(){this.padCols={};for(var t=0;8>t;t++)this.padCols[t]=new g["default"](t,this)}},{key:"vegas",value:function(){function t(t,e){setTimeout(function(){Math.random()>.5?t.setState("pink"):t.setState("purple"),n(t,e)},10*e)}function n(n,e){setTimeout(function(){Math.random()>.5?n.setState("orange"):n.setState("red"),setTimeout(function(){t(n,e)},1e3)},1e3)}var e=0;(0,f.forEach)(this.pads,function(n){t(n,e),e++})}},{key:"getMapping",value:function(){return[{id:176,name:"controlchange",targets:[{id:3,group:"button",name:"tapTempo"},{id:9,group:"button",name:"metronome"},{id:14,group:"knob",name:"nudge"},{id:15,group:"knob",name:"swing"},{id:28,group:"button",name:"master"},{id:29,group:"button",name:"stop"},{id:36,group:"button",name:"scene1"},{id:37,group:"button",name:"scene2"},{id:38,group:"button",name:"scene3"},{id:39,group:"button",name:"scene4"},{id:40,group:"button",name:"scene5"},{id:41,group:"button",name:"scene6"},{id:42,group:"button",name:"scene7"},{id:43,group:"button",name:"scene8"},{id:44,group:"button",name:"leftArrow"},{id:45,group:"button",name:"rightArrow"},{id:46,group:"button",name:"upArrow"},{id:47,group:"button",name:"downArrow"},{id:48,group:"button",name:"select"},{id:49,group:"button",name:"shift"},{id:50,group:"button",name:"note"},{id:51,group:"button",name:"session"},{id:52,group:"button",name:"addEffect"},{id:53,group:"button",name:"addTrack"},{id:54,group:"button",name:"octaveDown"},{id:55,group:"button",name:"octaveUp"},{id:56,group:"button",name:"repeat"},{id:57,group:"button",name:"accent"},{id:58,group:"button",name:"scales"},{id:59,group:"button",name:"user"},{id:60,group:"button",name:"mute"},{id:61,group:"button",name:"solo"},{id:62,group:"button",name:"in"},{id:63,group:"button",name:"out"},{id:71,group:"knob",name:"knob1"},{id:72,group:"knob",name:"knob2"},{id:73,group:"knob",name:"knob3"},{id:74,group:"knob",name:"knob4"},{id:75,group:"knob",name:"knob5"},{id:76,group:"knob",name:"knob6"},{id:77,group:"knob",name:"knob7"},{id:78,group:"knob",name:"knob8"},{id:79,group:"knob",name:"masterKnob"},{id:85,group:"button",name:"play"},{id:86,group:"button",name:"record"},{id:87,group:"button",name:"new"},{id:88,group:"button",name:"duplicate"},{id:89,group:"button",name:"automation"},{id:90,group:"button",name:"fixedLength"},{id:110,group:"button",name:"device"},{id:111,group:"button",name:"browse"},{id:112,group:"button",name:"track"},{id:113,group:"button",name:"clip"},{id:114,group:"button",name:"volume"},{id:115,group:"button",name:"panSend"},{id:116,group:"button",name:"quantize"},{id:117,group:"button",name:"double"},{id:118,group:"button",name:"delete"},{id:119,group:"button",name:"undo"}]},{id:144,name:"noteon",targets:[{id:0,group:"knob",name:"one"},{id:1,group:"knob",name:"two"},{id:2,group:"knob",name:"three"},{id:3,group:"knob",name:"four"},{id:4,group:"knob",name:"five"},{id:5,group:"knob",name:"six"},{id:6,group:"knob",name:"seven"},{id:7,group:"knob",name:"eight"},{id:8,group:"knob",name:"masterKnob"},{id:36,row:8,group:"pad",name:"pad1"},{id:37,row:8,group:"pad",name:"pad2"},{id:38,row:8,group:"pad",name:"pad3"},{id:39,row:8,group:"pad",name:"pad4"},{id:40,row:8,group:"pad",name:"pad5"},{id:41,row:8,group:"pad",name:"pad6"},{id:42,row:8,group:"pad",name:"pad7"},{id:43,row:8,group:"pad",name:"pad8"},{id:44,row:7,group:"pad",name:"pad9"},{id:45,row:7,group:"pad",name:"pad10"},{id:46,row:7,group:"pad",name:"pad11"},{id:47,row:7,group:"pad",name:"pad12"},{id:48,row:7,group:"pad",name:"pad13"},{id:49,row:7,group:"pad",name:"pad14"},{id:50,row:7,group:"pad",name:"pad15"},{id:51,row:7,group:"pad",name:"pad16"},{id:52,row:6,group:"pad",name:"pad17"},{id:53,row:6,group:"pad",name:"pad18"},{id:54,row:6,group:"pad",name:"pad19"},{id:55,row:6,group:"pad",name:"pad20"},{id:56,row:6,group:"pad",name:"pad21"},{id:57,row:6,group:"pad",name:"pad22"},{id:58,row:6,group:"pad",name:"pad23"},{id:59,row:6,group:"pad",name:"pad24"},{id:60,row:5,group:"pad",name:"pad25"},{id:61,row:5,group:"pad",name:"pad26"},{id:62,row:5,group:"pad",name:"pad27"},{id:63,row:5,group:"pad",name:"pad28"},{id:64,row:5,group:"pad",name:"pad29"},{id:65,row:5,group:"pad",name:"pad30"},{id:66,row:5,group:"pad",name:"pad31"},{id:67,row:5,group:"pad",name:"pad32"},{id:68,row:4,group:"pad",name:"pad33"},{id:69,row:4,group:"pad",name:"pad34"},{id:70,row:4,group:"pad",name:"pad35"},{id:71,row:4,group:"pad",name:"pad36"},{id:72,row:4,group:"pad",name:"pad37"},{id:73,row:4,group:"pad",name:"pad38"},{id:74,row:4,group:"pad",name:"pad39"},{id:75,row:4,group:"pad",name:"pad40"},{id:76,row:3,group:"pad",name:"pad41"},{id:77,row:3,group:"pad",name:"pad42"},{id:78,row:3,group:"pad",name:"pad43"},{id:79,row:3,group:"pad",name:"pad44"},{id:80,row:3,group:"pad",name:"pad45"},{id:81,row:3,group:"pad",name:"pad46"},{id:82,row:3,group:"pad",name:"pad47"},{id:83,row:3,group:"pad",name:"pad48"},{id:84,row:2,group:"pad",name:"pad49"},{id:85,row:2,group:"pad",name:"pad50"},{id:86,row:2,group:"pad",name:"pad51"},{id:87,row:2,group:"pad",name:"pad52"},{id:88,row:2,group:"pad",name:"pad53"},{id:89,row:2,group:"pad",name:"pad54"},{id:90,row:2,group:"pad",name:"pad55"},{id:91,row:2,group:"pad",name:"pad56"},{id:92,row:1,group:"pad",name:"pad57"},{id:93,row:1,group:"pad",name:"pad58"},{id:94,row:1,group:"pad",name:"pad59"},{id:95,row:1,group:"pad",name:"pad60"},{id:96,row:1,group:"pad",name:"pad61"},{id:97,row:1,group:"pad",name:"pad62"},{id:98,row:1,group:"pad",name:"pad63"},{id:99,row:1,group:"pad",name:"pad64"}]},{id:128,name:"noteOff",targets:[{id:0,group:"knob",name:"one"},{id:1,group:"knob",name:"two"},{id:2,group:"knob",name:"three"},{id:3,group:"knob",name:"four"},{id:4,group:"knob",name:"five"},{id:5,group:"knob",name:"six"},{id:6,group:"knob",name:"seven"},{id:7,group:"knob",name:"eight"},{id:8,group:"knob",name:"masterKnob"}]}]}}]),t}();n["default"]=m,t.exports=n["default"]},function(t,n,e){var r,o;!function(e){"use strict";function i(){if(i.prototype._singleton)throw new Error("WebMidi is a singleton, it cannot be instantiated directly.");i.prototype._singleton=this,this._inputs=[],this._outputs=[],this._userHandlers={},this._stateChangeQueue=[],this._processingStateChange=!1,this._midiInterfaceEvents=["connected","disconnected"],this._notes=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],this._semitones={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Object.defineProperties(this,{MIDI_SYSTEM_MESSAGES:{value:{sysex:240,timecode:241,songposition:242,songselect:243,tuningrequest:246,sysexend:247,clock:248,start:250,"continue":251,stop:252,activesensing:254,reset:255,unknownsystemmessage:-1},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MESSAGES:{value:{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,channelmode:11,programchange:12,channelaftertouch:13,pitchbend:14},writable:!1,enumerable:!0,configurable:!1},MIDI_REGISTERED_PARAMETER:{value:{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]},writable:!1,enumerable:!0,configurable:!1},MIDI_CONTROL_CHANGE_MESSAGES:{value:{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MODE_MESSAGES:{value:{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127},writable:!1,enumerable:!0,configurable:!1}}),Object.defineProperties(this,{supported:{enumerable:!0,get:function(){return"requestMIDIAccess"in navigator}},enabled:{enumerable:!0,get:function(){return void 0!==this["interface"]}.bind(this)},inputs:{enumerable:!0,get:function(){return this._inputs}.bind(this)},outputs:{enumerable:!0,get:function(){return this._outputs}.bind(this)},sysexEnabled:{enumerable:!0,get:function(){return!(!this["interface"]||!this["interface"].sysexEnabled)}.bind(this)},time:{enumerable:!0,get:function(){return window.performance.now()}}})}function u(t){var n=this;this._userHandlers={channel:{},system:{}},this._midiInput=t,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return n._midiInput.connection}},id:{enumerable:!0,get:function(){return n._midiInput.id}},manufacturer:{enumerable:!0,get:function(){return n._midiInput.manufacturer}},name:{enumerable:!0,get:function(){return n._midiInput.name}},state:{enumerable:!0,get:function(){return n._midiInput.state}}}),this._initializeUserHandlers()}function a(t){var n=this;this._midiOutput=t,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return n._midiOutput.connection}},id:{enumerable:!0,get:function(){return n._midiOutput.id}},manufacturer:{enumerable:!0,get:function(){return n._midiOutput.manufacturer}},name:{enumerable:!0,get:function(){return n._midiOutput.name}},state:{enumerable:!0,get:function(){return n._midiOutput.state}}})}var s=new i;i.prototype.enable=function(t,n){if(!this.enabled){if(!t||"function"!=typeof t)throw new TypeError("The callback parameter is mandatory and must be a function.");return this.supported?void navigator.requestMIDIAccess({sysex:n}).then(function(n){this["interface"]=n,this._resetInterfaceUserHandlers(),this["interface"].onstatechange=this._onInterfaceStateChange.bind(this),this._onInterfaceStateChange(null),t()}.bind(this),function(n){if(n&&n.message&&n.message.indexOf("Jazz plugin is not installed")>-1)throw new Error("Jazz-Plugin must be installed to use WebMIDIAPIShim.");t(n)}):void t(new Error("The Web MIDI API is not supported by your browser."))}},i.prototype.disable=function(){if(!this.supported)throw new Error("The Web MIDI API is not supported by your browser.");this["interface"]=void 0,this._inputs=[],this._outputs=[],this._resetInterfaceUserHandlers()},i.prototype.addListener=function(t,n){if(!this.enabled)throw new Error("WebMidi must be enabled before adding event listeners.");if("function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(!(this._midiInterfaceEvents.indexOf(t)>=0))throw new TypeError("The specified event type is not supported.");return this._userHandlers[t].push(n),this},i.prototype.hasListener=function(t,n){if(!this.enabled)throw new Error("WebMidi must be enabled before checking event listeners.");if("function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(!(this._midiInterfaceEvents.indexOf(t)>=0))throw new TypeError("The specified event type is not supported.");for(var e=0;e<this._userHandlers[t].length;e++)if(this._userHandlers[t][e]===n)return!0;return!1},i.prototype.removeListener=function(t,n){if(!this.enabled)throw new Error("WebMidi must be enabled before removing event listeners.");if(void 0!==n&&"function"!=typeof n)throw new TypeError("The 'listener' parameter must be a function.");if(this._midiInterfaceEvents.indexOf(t)>=0)if(n)for(var e=0;e<this._userHandlers[t].length;e++)this._userHandlers[t][e]===n&&this._userHandlers[t].splice(e,1);else this._userHandlers[t]=[];else{if(void 0!==t)throw new TypeError("The specified event type is not supported.");this._resetInterfaceUserHandlers()}return this},i.prototype.getInputById=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var n=0;n<this.inputs.length;n++)if(this.inputs[n].id===t)return this.inputs[n];return!1},i.prototype.getOutputById=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var n=0;n<this.outputs.length;n++)if(this.outputs[n].id===t)return this.outputs[n];return!1},i.prototype.getInputByName=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var n=0;n<this.inputs.length;n++)if(~this.inputs[n].name.indexOf(t))return this.inputs[n];return!1},i.prototype.getOutputByName=function(t){if(!this.enabled)throw new Error("WebMidi is not enabled.");for(var n=0;n<this.outputs.length;n++)if(~this.outputs[n].name.indexOf(t))return this.outputs[n];return!1},i.prototype.guessNoteNumber=function(t){var n=!1;if(t&&t.toFixed&&t>=0&&127>=t?n=Math.round(t):parseInt(t)>=0&&parseInt(t)<=127?n=parseInt(t):("string"==typeof t||t instanceof String)&&(n=this.noteNameToNumber(t)),n===!1)throw new Error("Invalid note number ("+t+").");return n},i.prototype.noteNameToNumber=function(t){if(!t)throw new Error("The name parameter is mandatory and cannot be empty.");var n=t.match(/([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)/i);if(!n)throw new RangeError("Invalid note name.");var e=s._semitones[n[1].toUpperCase()],r=parseInt(n[3]),o=12*(r+2)+e;if(n[2].toLowerCase().indexOf("b")>-1?o-=n[2].length:n[2].toLowerCase().indexOf("#")>-1&&(o+=n[2].length),0>e||-2>r||r>8||0>o||o>127)throw new RangeError("Invalid note name or note outside valid range.");return o},i.prototype._updateInputsAndOutputs=function(){this._updateInputs(),this._updateOutputs()},i.prototype._updateInputs=function(){for(var t=0;t<this._inputs.length;t++){for(var n=!0,e=this["interface"].inputs.values(),r=e.next();r&&!r.done;r=e.next())if(this._inputs[t]._midiInput===r.value){n=!1;break}n&&this._inputs.splice(t,1)}this["interface"].inputs.forEach(function(t){for(var n=!0,e=0;e<this._inputs.length;e++)this._inputs[e]._midiInput===t&&(n=!1);n&&this._inputs.push(this._createInput(t))}.bind(this))},i.prototype._updateOutputs=function(){for(var t=0;t<this._outputs.length;t++){for(var n=!0,e=this["interface"].outputs.values(),r=e.next();r&&!r.done;r=e.next())if(this._outputs[t]._midiOutput===r.value){n=!1;break}n&&this._outputs.splice(t,1)}this["interface"].outputs.forEach(function(t){for(var n=!0,e=0;e<this._outputs.length;e++)this._outputs[e]._midiOutput===t&&(n=!1);n&&this._outputs.push(this._createOutput(t))}.bind(this))},i.prototype._createInput=function(t){var n=new u(t);return n._midiInput.onmidimessage=n._onMidiMessage.bind(n),n},i.prototype._createOutput=function(t){var n=new a(t);return n._midiOutput.onmidimessage=n._onMidiMessage.bind(n),n},i.prototype._onInterfaceStateChange=function(t){if(this._stateChangeQueue.push(t),!this._processingStateChange){for(this._processingStateChange=!0;this._stateChangeQueue.length>0;)this._processStateChange(this._stateChangeQueue.shift());this._processingStateChange=!1}},i.prototype._processStateChange=function(t){if(this._updateInputsAndOutputs(),null!==t){var n={timestamp:t.timeStamp,type:t.port.state,id:t.port.id,manufacturer:t.port.manufacturer,name:t.port.name};"connected"===t.port.state&&("output"===t.port.type?n.output=this.getOutputById(t.port.id):"input"===t.port.type&&(n.input=this.getInputById(t.port.id))),this._userHandlers[t.port.state].forEach(function(t){t(n)})}},i.prototype._resetInterfaceUserHandlers=function(){for(var t=0;t<this._midiInterfaceEvents.length;t++)this._userHandlers[this._midiInterfaceEvents[t]]=[]},u.prototype.addListener=function(t,n,e){var r=this;if(void 0===n&&(n="all"),Array.isArray(n)||(n=[n]),n.forEach(function(t){if("all"!==t&&!(t>=1&&16>=t))throw new RangeError("The 'channel' parameter is invalid.")}),"function"!=typeof e)throw new TypeError("The 'listener' parameter must be a function.");if(s.MIDI_SYSTEM_MESSAGES[t])this._userHandlers.system[t]||(this._userHandlers.system[t]=[]),this._userHandlers.system[t].push(e);else{if(!s.MIDI_CHANNEL_MESSAGES[t])throw new TypeError("The specified event type is not supported.");if(n.indexOf("all")>-1){n=[];for(var o=1;16>=o;o++)n.push(o)}this._userHandlers.channel[t]||(this._userHandlers.channel[t]=[]),n.forEach(function(n){r._userHandlers.channel[t][n]||(r._userHandlers.channel[t][n]=[]),r._userHandlers.channel[t][n].push(e)})}return this},u.prototype.on=u.prototype.addListener,u.prototype.hasListener=function(t,n,e){var r=this;if("function"!=typeof e)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===n&&(n="all"),n.constructor!==Array&&(n=[n]),s.MIDI_SYSTEM_MESSAGES[t]){for(var o=0;o<this._userHandlers.system[t].length;o++)if(this._userHandlers.system[t][o]===e)return!0}else if(s.MIDI_CHANNEL_MESSAGES[t]){if(n.indexOf("all")>-1){n=[];for(var i=1;16>=i;i++)n.push(i)}return this._userHandlers.channel[t]?n.every(function(n){var o=r._userHandlers.channel[t][n];return o&&o.indexOf(e)>-1}):!1}return!1},u.prototype.removeListener=function(t,n,e){var r=this;if(void 0!==e&&"function"!=typeof e)throw new TypeError("The 'listener' parameter must be a function.");if(void 0===n&&(n="all"),n.constructor!==Array&&(n=[n]),s.MIDI_SYSTEM_MESSAGES[t])if(void 0===e)this._userHandlers.system[t]=[];else for(var o=0;o<this._userHandlers.system[t].length;o++)this._userHandlers.system[t][o]===e&&this._userHandlers.system[t].splice(o,1);else if(s.MIDI_CHANNEL_MESSAGES[t]){if(n.indexOf("all")>-1){n=[];for(var i=1;16>=i;i++)n.push(i)}if(!this._userHandlers.channel[t])return this;n.forEach(function(n){var o=r._userHandlers.channel[t][n];if(o)if(void 0===e)r._userHandlers.channel[t][n]=[];else for(var i=0;i<o.length;i++)o[i]===e&&o.splice(i,1)})}else{if(void 0!==t)throw new TypeError("The specified event type is not supported.");this._initializeUserHandlers()}return this},u.prototype._initializeUserHandlers=function(){for(var t in s.MIDI_CHANNEL_MESSAGES)s.MIDI_CHANNEL_MESSAGES.hasOwnProperty(t)&&(this._userHandlers.channel[t]={});for(var n in s.MIDI_SYSTEM_MESSAGES)s.MIDI_SYSTEM_MESSAGES.hasOwnProperty(n)&&(this._userHandlers.system[n]=[])},u.prototype._onMidiMessage=function(t){t.data[0]<240?this._parseChannelEvent(t):t.data[0]<=255&&this._parseSystemEvent(t)},u.prototype._parseChannelEvent=function(t){var n,e,r=t.data[0]>>4,o=(15&t.data[0])+1;t.data.length>1&&(n=t.data[1],e=t.data.length>2?t.data[2]:void 0);var i={target:this,data:t.data,receivedTime:t.receivedTime,timestamp:t.timeStamp,channel:o};r===s.MIDI_CHANNEL_MESSAGES.noteoff||r===s.MIDI_CHANNEL_MESSAGES.noteon&&0===e?(i.type="noteoff",i.note={number:n,name:s._notes[n%12],octave:Math.floor(n/12-1)-3},i.velocity=e/127):r===s.MIDI_CHANNEL_MESSAGES.noteon?(i.type="noteon",i.note={number:n,name:s._notes[n%12],octave:Math.floor(n/12-1)-3},i.velocity=e/127):r===s.MIDI_CHANNEL_MESSAGES.keyaftertouch?(i.type="keyaftertouch",i.note={number:n,name:s._notes[n%12],octave:Math.floor(n/12-1)-3},i.value=e/127):r===s.MIDI_CHANNEL_MESSAGES.controlchange&&n>=0&&119>=n?(i.type="controlchange",i.controller={number:n,name:this.getCcNameByNumber(n)},i.value=e):r===s.MIDI_CHANNEL_MESSAGES.channelmode&&n>=120&&127>=n?(i.type="channelmode",i.controller={number:n,name:this.getChannelModeByNumber(n)},i.value=e):r===s.MIDI_CHANNEL_MESSAGES.programchange?(i.type="programchange",i.value=n):r===s.MIDI_CHANNEL_MESSAGES.channelaftertouch?(i.type="channelaftertouch",i.value=n/127):r===s.MIDI_CHANNEL_MESSAGES.pitchbend?(i.type="pitchbend",i.value=((e<<7)+n-8192)/8192):i.type="unknownchannelmessage",this._userHandlers.channel[i.type]&&this._userHandlers.channel[i.type][o]&&this._userHandlers.channel[i.type][o].forEach(function(t){t(i)})},u.prototype.getCcNameByNumber=function(t){for(var n in s.MIDI_CONTROL_CHANGE_MESSAGES)if(t===s.MIDI_CONTROL_CHANGE_MESSAGES[n])return n},u.prototype.getChannelModeByNumber=function(t){for(var n in s.MIDI_CHANNEL_MODE_MESSAGES)if(t===s.MIDI_CHANNEL_MODE_MESSAGES[n])return n},u.prototype._parseSystemEvent=function(t){var n=t.data[0],e={target:this,data:t.data,receivedTime:t.receivedTime,timestamp:t.timeStamp};n===s.MIDI_SYSTEM_MESSAGES.sysex?e.type="sysex":n===s.MIDI_SYSTEM_MESSAGES.timecode?e.type="timecode":n===s.MIDI_SYSTEM_MESSAGES.songposition?e.type="songposition":n===s.MIDI_SYSTEM_MESSAGES.songselect?(e.type="songselect",e.song=t.data[1]):n===s.MIDI_SYSTEM_MESSAGES.tuningrequest?e.type="tuningrequest":n===s.MIDI_SYSTEM_MESSAGES.clock?e.type="clock":n===s.MIDI_SYSTEM_MESSAGES.start?e.type="start":n===s.MIDI_SYSTEM_MESSAGES["continue"]?e.type="continue":n===s.MIDI_SYSTEM_MESSAGES.stop?e.type="stop":n===s.MIDI_SYSTEM_MESSAGES.activesensing?e.type="activesensing":n===s.MIDI_SYSTEM_MESSAGES.reset?e.type="reset":e.type="unknownsystemmessage",this._userHandlers.system[e.type]&&this._userHandlers.system[e.type].forEach(function(t){t(e)})},a.prototype.send=function(t,n,e){if(!(t>=128&&255>=t))throw new RangeError("The status byte must be an integer between 128 (0x80) and 255 (0xFF).");Array.isArray(n)||(n=parseInt(n)>=0&&parseInt(n)<=127?[parseInt(n)]:[]);var r=[t];return n.forEach(function(t){if(!(t>=0&&255>=t))throw new RangeError("The data bytes must be integers between 0 (0x00) and 255 (0xFF).");r.push(t)}),this._midiOutput.send(r,parseFloat(e)||0),this},a.prototype.sendSysex=function(t,n,e){if(!s.sysexEnabled)throw new Error("SysEx message support must first be activated.");return e=e||{},t=[].concat(t),n.forEach(function(t){if(0>t||t>127)throw new RangeError("The data bytes of a SysEx message must be integers between 0 (0x00) and 127 (0x7F).")}),n=t.concat(n,s.MIDI_SYSTEM_MESSAGES.sysexend),this.send(s.MIDI_SYSTEM_MESSAGES.sysex,n,e.time),this},a.prototype.sendTimecodeQuarterFrame=function(t,n){return n=n||{},this.send(s.MIDI_SYSTEM_MESSAGES.timecode,t,n.time),this},a.prototype.sendSongPosition=function(t,n){t=parseInt(t)||0,n=n||{};var e=t>>7&127,r=127&t;return this.send(s.MIDI_SYSTEM_MESSAGES.songposition,[e,r],n.time),this},a.prototype.sendSongSelect=function(t,n){if(t=parseInt(t),n=n||{},!(t>=0&&127>=t))throw new RangeError("The song number must be between 0 and 127.");return this.send(s.MIDI_SYSTEM_MESSAGES.songselect,[t],n.time),this},a.prototype.sendTuningRequest=function(t){return t=t||{},this.send(s.MIDI_SYSTEM_MESSAGES.tuningrequest,void 0,t.time),this},a.prototype.sendClock=function(t){return t=t||{},this.send(s.MIDI_SYSTEM_MESSAGES.clock,void 0,t.time),this},a.prototype.sendStart=function(t){return t=t||{},this.send(s.MIDI_SYSTEM_MESSAGES.start,void 0,t.time),this},a.prototype.sendContinue=function(t){return t=t||{},this.send(s.MIDI_SYSTEM_MESSAGES["continue"],void 0,t.time),this},a.prototype.sendStop=function(t){return t=t||{},this.send(s.MIDI_SYSTEM_MESSAGES.stop,void 0,t.time),this},a.prototype.sendActiveSensing=function(t){return t=t||{},this.send(s.MIDI_SYSTEM_MESSAGES.activesensing,void 0,t.time),this},a.prototype.sendReset=function(t){return t=t||{},this.send(s.MIDI_SYSTEM_MESSAGES.reset,void 0,t.time),this},a.prototype.stopNote=function(t,n,e){var r=this;e=e||{},e.velocity=parseFloat(e.velocity),(isNaN(e.velocity)||e.velocity<0||e.velocity>1)&&(e.velocity=.5);var o=Math.round(127*e.velocity);return this._convertNoteToArray(t).forEach(function(t){r._convertChannelToArray(n).forEach(function(n){r.send((s.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(n-1),[t,o],r._parseTimeParameter(e.time))})}),this},a.prototype.playNote=function(t,n,e){var r=this;e=e||{},e.velocity=parseFloat(e.velocity),(isNaN(e.velocity)||e.velocity<0||e.velocity>1)&&(e.velocity=.5);var o=Math.round(127*e.velocity);if(e.time=r._parseTimeParameter(e.time)||0,this._convertNoteToArray(t).forEach(function(t){r._convertChannelToArray(n).forEach(function(n){r.send((s.MIDI_CHANNEL_MESSAGES.noteon<<4)+(n-1),[t,o],e.time)})}),void 0!==e.duration){e.release=parseFloat(e.release),(isNaN(e.release)||e.release<0||e.release>1)&&(e.release=.5);var i=Math.round(127*e.release);this._convertNoteToArray(t).forEach(function(t){r._convertChannelToArray(n).forEach(function(n){r.send((s.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(n-1),[t,i],e.time+e.duration)})})}return this},a.prototype.sendKeyAftertouch=function(t,n,e,r){var o=this;if(r=r||{},1>n||n>16)throw new RangeError("The channel must be between 1 and 16.");e=parseFloat(e),(isNaN(e)||0>e||e>1)&&(e=.5);var i=Math.round(127*e);return this._convertNoteToArray(t).forEach(function(t){o._convertChannelToArray(n).forEach(function(n){o.send((s.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(n-1),[t,i],o._parseTimeParameter(r.time))})}),this},a.prototype.sendControlChange=function(t,n,e,r){if(r=r||{},"string"==typeof t){if(t=s.MIDI_CONTROL_CHANGE_MESSAGES[t],!t)throw new TypeError("Invalid controller name.")}else if(t=parseInt(t),!(t>=0&&119>=t))throw new RangeError("Controller numbers must be between 0 and 119.");if(n=parseInt(n)||0,!(n>=0&&127>=n))throw new RangeError("Controller value must be between 0 and 127.");return this._convertChannelToArray(e).forEach(function(e){this.send((s.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(e-1),[t,n],this._parseTimeParameter(r.time))}.bind(this)),this},a.prototype._selectRegisteredParameter=function(t,n,e){var r=this;if(t[0]=parseInt(t[0]),!(t[0]>=0&&t[0]<=127))throw new RangeError("The control65 value must be between 0 and 127");if(t[1]=parseInt(t[1]),!(t[1]>=0&&t[1]<=127))throw new RangeError("The control64 value must be between 0 and 127");return this._convertChannelToArray(n).forEach(function(o){r.sendControlChange(101,t[0],n,{time:e}),r.sendControlChange(100,t[1],n,{time:e})}),this},a.prototype._selectNonRegisteredParameter=function(t,n,e){var r=this;if(t[0]=parseInt(t[0]),!(t[0]>=0&&t[0]<=127))throw new RangeError("The control63 value must be between 0 and 127");if(t[1]=parseInt(t[1]),!(t[1]>=0&&t[1]<=127))throw new RangeError("The control62 value must be between 0 and 127");return this._convertChannelToArray(n).forEach(function(o){r.sendControlChange(99,t[0],n,{time:e}),r.sendControlChange(98,t[1],n,{time:e})}),this},a.prototype._setCurrentRegisteredParameter=function(t,n,e){var r=this;if(t=[].concat(t),t[0]=parseInt(t[0]),!(t[0]>=0&&t[0]<=127))throw new RangeError("The msb value must be between 0 and 127");return this._convertChannelToArray(n).forEach(function(o){r.sendControlChange(6,t[0],n,{time:e})}),t[1]=parseInt(t[1]),t[1]>=0&&t[1]<=127&&this._convertChannelToArray(n).forEach(function(o){r.sendControlChange(38,t[1],n,{time:e})}),this},a.prototype._deselectRegisteredParameter=function(t,n){var e=this;return this._convertChannelToArray(t).forEach(function(r){e.sendControlChange(101,127,t,{time:n}),e.sendControlChange(100,127,t,{time:n})}),this},a.prototype.setRegisteredParameter=function(t,n,e,r){var o=this;if(r=r||{},!Array.isArray(t)){if(!s.MIDI_REGISTERED_PARAMETER[t])throw new Error("The specified parameter is not available.");t=s.MIDI_REGISTERED_PARAMETER[t]}return this._convertChannelToArray(e).forEach(function(i){o._selectRegisteredParameter(t,e,r.time),o._setCurrentRegisteredParameter(n,e,r.time),o._deselectRegisteredParameter(e,r.time)}),this},a.prototype.setNonRegisteredParameter=function(t,n,e,r){var o=this;if(r=r||{},!(t[0]>=0&&t[0]<=127&&t[1]>=0&&t[1]<=127))throw new Error("Position 0 and 1 of the 2-position parameter array must both be between 0 and 127.");return n=[].concat(n),this._convertChannelToArray(e).forEach(function(i){o._selectNonRegisteredParameter(t,e,r.time),o._setCurrentRegisteredParameter(n,e,r.time),o._deselectRegisteredParameter(e,r.time)}),this},a.prototype.incrementRegisteredParameter=function(t,n,e){var r=this;if(e=e||{},!Array.isArray(t)){if(!s.MIDI_REGISTERED_PARAMETER[t])throw new Error("The specified parameter is not available.");t=s.MIDI_REGISTERED_PARAMETER[t]}return this._convertChannelToArray(n).forEach(function(o){
r._selectRegisteredParameter(t,n,e.time),r.sendControlChange(96,0,n,{time:e.time}),r._deselectRegisteredParameter(n,e.time)}),this},a.prototype.decrementRegisteredParameter=function(t,n,e){if(e=e||{},!Array.isArray(t)){if(!s.MIDI_REGISTERED_PARAMETER[t])throw new TypeError("The specified parameter is not available.");t=s.MIDI_REGISTERED_PARAMETER[t]}return this._convertChannelToArray(n).forEach(function(r){this._selectRegisteredParameter(t,n,e.time),this.sendControlChange(97,0,n,{time:e.time}),this._deselectRegisteredParameter(n,e.time)}.bind(this)),this},a.prototype.setPitchBendRange=function(t,n,e,r){var o=this;if(r=r||{},t=parseInt(t)||0,!(t>=0&&127>=t))throw new RangeError("The semitones value must be between 0 and 127");if(n=parseInt(n)||0,!(n>=0&&127>=n))throw new RangeError("The cents value must be between 0 and 127");return this._convertChannelToArray(e).forEach(function(i){o.setRegisteredParameter("pitchbendrange",[t,n],e,{time:r.time})}),this},a.prototype.setModulationRange=function(t,n,e,r){var o=this;if(r=r||{},t=parseInt(t)||0,!(t>=0&&127>=t))throw new RangeError("The semitones value must be between 0 and 127");if(n=parseInt(n)||0,!(n>=0&&127>=n))throw new RangeError("The cents value must be between 0 and 127");return this._convertChannelToArray(e).forEach(function(i){o.setRegisteredParameter("modulationrange",[t,n],e,{time:r.time})}),this},a.prototype.setMasterTuning=function(t,n,e){var r=this;if(e=e||{},t=parseFloat(t)||0,-65>=t||t>=64)throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");var o=parseInt(t)+64,i=t-parseInt(t);i=Math.round((i+1)/2*16383);var u=i>>7&127,a=127&i;return this._convertChannelToArray(n).forEach(function(t){r.setRegisteredParameter("channelcoarsetuning",o,n,{time:e.time}),r.setRegisteredParameter("channelfinetuning",[u,a],n,{time:e.time})}),this},a.prototype.setTuningProgram=function(t,n,e){var r=this;if(e=e||{},t=parseInt(t)||0,!(t>=0&&127>=t))throw new RangeError("The program value must be between 0 and 127");return this._convertChannelToArray(n).forEach(function(o){r.setRegisteredParameter("tuningprogram",t,n,{time:e.time})}),this},a.prototype.setTuningBank=function(t,n,e){var r=this;if(e=e||{},t=parseInt(t)||0,!(t>=0&&127>=t))throw new RangeError("The bank value must be between 0 and 127");return this._convertChannelToArray(n).forEach(function(o){r.setRegisteredParameter("tuningbank",t,n,{time:e.time})}),this},a.prototype.sendChannelMode=function(t,n,e,r){var o=this;if(r=r||{},"string"==typeof t){if(t=s.MIDI_CHANNEL_MODE_MESSAGES[t],!t)throw new TypeError("Invalid channel mode message name.")}else if(t=parseInt(t),!(t>=120&&127>=t))throw new RangeError("Channel mode numerical identifiers must be between 120 and 127.");if(n=parseInt(n),isNaN(n)||0>n||n>127)throw new RangeError("Value must be integers between 0 and 127.");return this._convertChannelToArray(e).forEach(function(e){o.send((s.MIDI_CHANNEL_MESSAGES.channelmode<<4)+(e-1),[t,n],o._parseTimeParameter(r.time))}),this},a.prototype.sendProgramChange=function(t,n,e){var r=this;if(e=e||{},t=parseInt(t),isNaN(t)||0>t||t>127)throw new RangeError("Program numbers must be between 0 and 127.");return this._convertChannelToArray(n).forEach(function(n){r.send((s.MIDI_CHANNEL_MESSAGES.programchange<<4)+(n-1),[t],r._parseTimeParameter(e.time))}),this},a.prototype.sendChannelAftertouch=function(t,n,e){var r=this;e=e||{},t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=.5);var o=Math.round(127*t);return this._convertChannelToArray(n).forEach(function(t){r.send((s.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(t-1),[o],r._parseTimeParameter(e.time))}),this},a.prototype.sendPitchBend=function(t,n,e){var r=this;if(e=e||{},t=parseFloat(t),isNaN(t)||-1>t||t>1)throw new RangeError("Pitch bend value must be between -1 and 1.");var o=Math.round((t+1)/2*16383),i=o>>7&127,u=127&o;return this._convertChannelToArray(n).forEach(function(t){r.send((s.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(t-1),[u,i],r._parseTimeParameter(e.time))}),this},a.prototype._parseTimeParameter=function(t){var n;if(void 0===t)return 0;if(t&&t.substring&&"+"===t.substring(0,1)){if(n=parseFloat(t),!n)throw new TypeError("Invalid relative time format.");return n+s.time}if(n=parseFloat(t),!n)throw new TypeError("Invalid absolute time format.");return n},a.prototype._convertNoteToArray=function(t){var n=[];return Array.isArray(t)||(t=[t]),t.forEach(function(t){n.push(s.guessNoteNumber(t))}),n},a.prototype._convertChannelToArray=function(t){if(("all"===t||void 0===t)&&(t=["all"]),Array.isArray(t)||(t=[t]),t.indexOf("all")>-1){t=[];for(var n=1;16>=n;n++)t.push(n)}return t.forEach(function(t){if(!(t>=1&&16>=t))throw new RangeError("MIDI channels must be between 1 and 16.")}),t},a.prototype._onMidiMessage=function(t){},r=[],o=function(){return s}.apply(n,r),!(void 0!==o&&(t.exports=o))}(this)},function(t,n,e){var r;(function(t,o){(function(){function i(t,n){return t.set(n[0],n[1]),t}function u(t,n){return t.add(n),t}function a(t,n,e){var r=e.length;switch(r){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function s(t,n,e,r){for(var o=-1,i=t?t.length:0;++o<i;){var u=t[o];n(r,u,e(u),t)}return r}function f(t,n){for(var e=-1,r=t?t.length:0;++e<r&&n(t[e],e,t)!==!1;);return t}function c(t,n){for(var e=t?t.length:0;e--&&n(t[e],e,t)!==!1;);return t}function l(t,n){for(var e=-1,r=t?t.length:0;++e<r;)if(!n(t[e],e,t))return!1;return!0}function p(t,n){for(var e=-1,r=t?t.length:0,o=0,i=[];++e<r;){var u=t[e];n(u,e,t)&&(i[o++]=u)}return i}function h(t,n){var e=t?t.length:0;return!!e&&E(t,n,0)>-1}function d(t,n,e){for(var r=-1,o=t?t.length:0;++r<o;)if(e(n,t[r]))return!0;return!1}function v(t,n){for(var e=-1,r=t?t.length:0,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o}function _(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t}function g(t,n,e,r){var o=-1,i=t?t.length:0;for(r&&i&&(e=t[++o]);++o<i;)e=n(e,t[o],o,t);return e}function m(t,n,e,r){var o=t?t.length:0;for(r&&o&&(e=t[--o]);o--;)e=n(e,t[o],o,t);return e}function y(t,n){for(var e=-1,r=t?t.length:0;++e<r;)if(n(t[e],e,t))return!0;return!1}function b(t,n,e){var r;return e(t,function(t,e,o){return n(t,e,o)?(r=e,!1):void 0}),r}function w(t,n,e,r){for(var o=t.length,i=e+(r?1:-1);r?i--:++i<o;)if(n(t[i],i,t))return i;return-1}function E(t,n,e){if(n!==n)return W(t,e);for(var r=e-1,o=t.length;++r<o;)if(t[r]===n)return r;return-1}function S(t,n,e,r){for(var o=e-1,i=t.length;++o<i;)if(r(t[o],n))return o;return-1}function I(t,n){var e=t?t.length:0;return e?T(t,n)/e:Mt}function A(t,n,e,r,o){return o(t,function(t,o,i){e=r?(r=!1,t):n(e,t,o,i)}),e}function M(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}function T(t,n){for(var e,r=-1,o=t.length;++r<o;){var i=n(t[r]);i!==J&&(e=e===J?i:e+i)}return e}function C(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function x(t,n){return v(n,function(n){return[n,t[n]]})}function k(t){return function(n){return t(n)}}function O(t,n){return v(n,function(n){return t[n]})}function R(t,n){return t.has(n)}function j(t,n){for(var e=-1,r=t.length;++e<r&&E(n,t[e],0)>-1;);return e}function N(t,n){for(var e=t.length;e--&&E(n,t[e],0)>-1;);return e}function P(t){return t&&t.Object===Object?t:null}function D(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&r++;return r}function L(t){return xe[t]}function G(t){return ke[t]}function H(t){return"\\"+Re[t]}function B(t,n){return null==t?J:t[n]}function W(t,n,e){for(var r=t.length,o=n+(e?1:-1);e?o--:++o<r;){var i=t[o];if(i!==i)return o}return-1}function F(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(e){}return n}function z(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}function U(t){var n=-1,e=Array(t.size);return t.forEach(function(t,r){e[++n]=[r,t]}),e}function Y(t,n){for(var e=-1,r=t.length,o=0,i=[];++e<r;){var u=t[e];u!==n&&u!==rt||(t[e]=rt,i[o++]=e)}return i}function $(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=t}),e}function q(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=[t,t]}),e}function K(t){if(!t||!Se.test(t))return t.length;for(var n=we.lastIndex=0;we.test(t);)n++;return n}function V(t){return t.match(we)}function Z(t){return Oe[t]}function Q(t){function n(t){if(ma(t)&&!gl(t)&&!(t instanceof o)){if(t instanceof r)return t;if(kf.call(t,"__wrapped__"))return pi(t)}return new r(t)}function e(){}function r(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=J}function o(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Tt,this.__views__=[]}function P(){var t=new o(this.__wrapped__);return t.__actions__=eo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=eo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=eo(this.__views__),t}function Dn(){if(this.__filtered__){var t=new o(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Ln(){var t=this.__wrapped__.value(),n=this.__dir__,e=gl(t),r=0>n,o=e?t.length:0,i=zo(0,o,this.__views__),u=i.start,a=i.end,s=a-u,f=r?a:u-1,c=this.__iteratees__,l=c.length,p=0,h=tc(s,this.__takeCount__);if(!e||tt>o||o==s&&h==s)return Lr(t,this.__actions__);var d=[];t:for(;s--&&h>p;){f+=n;for(var v=-1,_=t[f];++v<l;){var g=c[v],m=g.iteratee,y=g.type,b=m(_);if(y==wt)_=b;else if(!b){if(y==bt)continue t;break t}}d[p++]=_}return d}function Gn(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Hn(){this.__data__=lc?lc(null):{}}function Bn(t){return this.has(t)&&delete this.__data__[t]}function Wn(t){var n=this.__data__;if(lc){var e=n[t];return e===et?J:e}return kf.call(n,t)?n[t]:J}function Fn(t){var n=this.__data__;return lc?n[t]!==J:kf.call(n,t)}function zn(t,n){var e=this.__data__;return e[t]=lc&&n===J?et:n,this}function Un(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Yn(){this.__data__=[]}function $n(t){var n=this.__data__,e=de(n,t);if(0>e)return!1;var r=n.length-1;return e==r?n.pop():Yf.call(n,e,1),!0}function qn(t){var n=this.__data__,e=de(n,t);return 0>e?J:n[e][1]}function Kn(t){return de(this.__data__,t)>-1}function Vn(t,n){var e=this.__data__,r=de(e,t);return 0>r?e.push([t,n]):e[r][1]=n,this}function Zn(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Qn(){this.__data__={hash:new Gn,map:new(ac||Un),string:new Gn}}function Jn(t){return Lo(this,t)["delete"](t)}function Xn(t){return Lo(this,t).get(t)}function te(t){return Lo(this,t).has(t)}function ne(t,n){return Lo(this,t).set(t,n),this}function ee(t){var n=-1,e=t?t.length:0;for(this.__data__=new Zn;++n<e;)this.add(t[n])}function re(t){return this.__data__.set(t,et),this}function oe(t){return this.__data__.has(t)}function ie(t){this.__data__=new Un(t)}function ue(){this.__data__=new Un}function ae(t){return this.__data__["delete"](t)}function se(t){return this.__data__.get(t)}function fe(t){return this.__data__.has(t)}function ce(t,n){var e=this.__data__;return e instanceof Un&&e.__data__.length==tt&&(e=this.__data__=new Zn(e.__data__)),e.set(t,n),this}function le(t,n,e,r){return t===J||na(t,Af[e])&&!kf.call(r,e)?n:t}function pe(t,n,e){(e===J||na(t[n],e))&&("number"!=typeof n||e!==J||n in t)||(t[n]=e)}function he(t,n,e){var r=t[n];kf.call(t,n)&&na(r,e)&&(e!==J||n in t)||(t[n]=e)}function de(t,n){for(var e=t.length;e--;)if(na(t[e][0],n))return e;return-1}function ve(t,n,e,r){return Sc(t,function(t,o,i){n(r,t,e(t),i)}),r}function _e(t,n){return t&&ro(n,rs(n),t)}function ge(t,n){for(var e=-1,r=null==t,o=n.length,i=Array(o);++e<o;)i[e]=r?J:ts(t,n[e]);return i}function me(t,n,e){return t===t&&(e!==J&&(t=e>=t?t:e),n!==J&&(t=t>=n?t:n)),t}function we(t,n,e,r,o,i,u){var a;if(r&&(a=i?r(t,o,i,u):r(t)),a!==J)return a;if(!ga(t))return t;var s=gl(t);if(s){if(a=Yo(t),!n)return eo(t,a)}else{var c=Fo(t),l=c==Pt||c==Dt;if(ml(t))return Ur(t,n);if(c==Ht||c==kt||l&&!i){if(F(t))return i?t:{};if(a=$o(l?{}:t),!n)return oo(t,_e(a,t))}else{if(!Ce[c])return i?t:{};a=qo(t,c,we,n)}}u||(u=new ie);var p=u.get(t);if(p)return p;if(u.set(t,a),!s)var h=e?Ro(t):rs(t);return f(h||t,function(o,i){h&&(i=o,o=t[i]),he(a,i,we(o,n,e,r,i,t,u))}),a}function xe(t){var n=rs(t),e=n.length;return function(r){if(null==r)return!e;for(var o=e;o--;){var i=n[o],u=t[i],a=r[i];if(a===J&&!(i in Object(r))||!u(a))return!1}return!0}}function ke(t){return ga(t)?zf(t):{}}function Oe(t,n,e){if("function"!=typeof t)throw new Sf(nt);return $f(function(){t.apply(J,e)},n)}function Re(t,n,e,r){var o=-1,i=h,u=!0,a=t.length,s=[],f=n.length;if(!a)return s;e&&(n=v(n,k(e))),r?(i=d,u=!1):n.length>=tt&&(i=R,u=!1,n=new ee(n));t:for(;++o<a;){var c=t[o],l=e?e(c):c;if(c=r||0!==c?c:0,u&&l===l){for(var p=f;p--;)if(n[p]===l)continue t;s.push(c)}else i(n,l,r)||s.push(c)}return s}function Pe(t,n){var e=!0;return Sc(t,function(t,r,o){return e=!!n(t,r,o)}),e}function De(t,n,e){for(var r=-1,o=t.length;++r<o;){var i=t[r],u=n(i);if(null!=u&&(a===J?u===u&&!Ra(u):e(u,a)))var a=u,s=i}return s}function Ge(t,n,e,r){var o=t.length;for(e=Ha(e),0>e&&(e=-e>o?0:o+e),r=r===J||r>o?o:Ha(r),0>r&&(r+=o),r=e>r?0:Ba(r);r>e;)t[e++]=n;return t}function He(t,n){var e=[];return Sc(t,function(t,r,o){n(t,r,o)&&e.push(t)}),e}function Be(t,n,e,r,o){var i=-1,u=t.length;for(e||(e=Vo),o||(o=[]);++i<u;){var a=t[i];n>0&&e(a)?n>1?Be(a,n-1,e,r,o):_(o,a):r||(o[o.length]=a)}return o}function ze(t,n){return t&&Ac(t,n,rs)}function Ue(t,n){return t&&Mc(t,n,rs)}function Ye(t,n){return p(n,function(n){return da(t[n])})}function $e(t,n){n=Xo(n,t)?[n]:Fr(n);for(var e=0,r=n.length;null!=t&&r>e;)t=t[ci(n[e++])];return e&&e==r?t:J}function qe(t,n,e){var r=n(t);return gl(t)?r:_(r,e(t))}function Ke(t,n){return t>n}function Ve(t,n){return null!=t&&(kf.call(t,n)||"object"==typeof t&&n in t&&null===Bo(t))}function Ze(t,n){return null!=t&&n in Object(t)}function Qe(t,n,e){return t>=tc(n,e)&&t<Xf(n,e)}function Je(t,n,e){for(var r=e?d:h,o=t[0].length,i=t.length,u=i,a=Array(i),s=1/0,f=[];u--;){var c=t[u];u&&n&&(c=v(c,k(n))),s=tc(c.length,s),a[u]=!e&&(n||o>=120&&c.length>=120)?new ee(u&&c):J}c=t[0];var l=-1,p=a[0];t:for(;++l<o&&f.length<s;){var _=c[l],g=n?n(_):_;if(_=e||0!==_?_:0,!(p?R(p,g):r(f,g,e))){for(u=i;--u;){var m=a[u];if(!(m?R(m,g):r(t[u],g,e)))continue t}p&&p.push(g),f.push(_)}}return f}function Xe(t,n,e,r){return ze(t,function(t,o,i){n(r,e(t),o,i)}),r}function tr(t,n,e){Xo(n,t)||(n=Fr(n),t=si(t,n),n=Oi(n));var r=null==t?t:t[ci(n)];return null==r?J:a(r,t,e)}function nr(t,n,e,r,o){return t===n?!0:null==t||null==n||!ga(t)&&!ma(n)?t!==t&&n!==n:er(t,n,nr,e,r,o)}function er(t,n,e,r,o,i){var u=gl(t),a=gl(n),s=Ot,f=Ot;u||(s=Fo(t),s=s==kt?Ht:s),a||(f=Fo(n),f=f==kt?Ht:f);var c=s==Ht&&!F(t),l=f==Ht&&!F(n),p=s==f;if(p&&!c)return i||(i=new ie),u||ja(t)?xo(t,n,e,r,o,i):ko(t,n,s,e,r,o,i);if(!(o&vt)){var h=c&&kf.call(t,"__wrapped__"),d=l&&kf.call(n,"__wrapped__");if(h||d){var v=h?t.value():t,_=d?n.value():n;return i||(i=new ie),e(v,_,r,o,i)}}return p?(i||(i=new ie),Oo(t,n,e,r,o,i)):!1}function rr(t,n,e,r){var o=e.length,i=o,u=!r;if(null==t)return!i;for(t=Object(t);o--;){var a=e[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){a=e[o];var s=a[0],f=t[s],c=a[1];if(u&&a[2]){if(f===J&&!(s in t))return!1}else{var l=new ie;if(r)var p=r(f,c,s,t,n,l);if(!(p===J?nr(c,f,r,dt|vt,l):p))return!1}}return!0}function or(t){if(!ga(t)||ei(t))return!1;var n=da(t)||F(t)?Pf:kn;return n.test(li(t))}function ir(t){return"function"==typeof t?t:null==t?$s:"object"==typeof t?gl(t)?lr(t[0],t[1]):cr(t):tf(t)}function ur(t){return Jf(Object(t))}function ar(t){t=null==t?t:Object(t);var n=[];for(var e in t)n.push(e);return n}function sr(t,n){return n>t}function fr(t,n){var e=-1,r=oa(t)?Array(t.length):[];return Sc(t,function(t,o,i){r[++e]=n(t,o,i)}),r}function cr(t){var n=Go(t);return 1==n.length&&n[0][2]?ii(n[0][0],n[0][1]):function(e){return e===t||rr(e,t,n)}}function lr(t,n){return Xo(t)&&oi(n)?ii(ci(t),n):function(e){var r=ts(e,t);return r===J&&r===n?es(e,t):nr(n,r,J,dt|vt)}}function pr(t,n,e,r,o){if(t!==n){if(!gl(n)&&!ja(n))var i=os(n);f(i||n,function(u,a){if(i&&(a=u,u=n[a]),ga(u))o||(o=new ie),hr(t,n,a,e,pr,r,o);else{var s=r?r(t[a],u,a+"",t,n,o):J;s===J&&(s=u),pe(t,a,s)}})}}function hr(t,n,e,r,o,i,u){var a=t[e],s=n[e],f=u.get(s);if(f)return void pe(t,e,f);var c=i?i(a,s,e+"",t,n,u):J,l=c===J;l&&(c=s,gl(s)||ja(s)?gl(a)?c=a:ia(a)?c=eo(a):(l=!1,c=we(s,!0)):Ta(s)||ea(s)?ea(a)?c=Fa(a):!ga(a)||r&&da(a)?(l=!1,c=we(s,!0)):c=a:l=!1),u.set(s,c),l&&o(c,s,r,i,u),u["delete"](s),pe(t,e,c)}function dr(t,n){var e=t.length;if(e)return n+=0>n?e:0,Qo(n,e)?t[n]:J}function vr(t,n,e){var r=-1;n=v(n.length?n:[$s],k(Do()));var o=fr(t,function(t,e,o){var i=v(n,function(n){return n(t)});return{criteria:i,index:++r,value:t}});return M(o,function(t,n){return Xr(t,n,e)})}function _r(t,n){return t=Object(t),g(n,function(n,e){return e in t&&(n[e]=t[e]),n},{})}function gr(t,n){for(var e=-1,r=jo(t),o=r.length,i={};++e<o;){var u=r[e],a=t[u];n(a,u)&&(i[u]=a)}return i}function mr(t){return function(n){return null==n?J:n[t]}}function yr(t){return function(n){return $e(n,t)}}function br(t,n,e,r){var o=r?S:E,i=-1,u=n.length,a=t;for(t===n&&(n=eo(n)),e&&(a=v(t,k(e)));++i<u;)for(var s=0,f=n[i],c=e?e(f):f;(s=o(a,c,s,r))>-1;)a!==t&&Yf.call(a,s,1),Yf.call(t,s,1);return t}function wr(t,n){for(var e=t?n.length:0,r=e-1;e--;){var o=n[e];if(e==r||o!==i){var i=o;if(Qo(o))Yf.call(t,o,1);else if(Xo(o,t))delete t[ci(o)];else{var u=Fr(o),a=si(t,u);null!=a&&delete a[ci(Oi(u))]}}}return t}function Er(t,n){return t+Kf(ec()*(n-t+1))}function Sr(t,n,e,r){for(var o=-1,i=Xf(qf((n-t)/(e||1)),0),u=Array(i);i--;)u[r?i:++o]=t,t+=e;return u}function Ir(t,n){var e="";if(!t||1>n||n>It)return e;do n%2&&(e+=t),n=Kf(n/2),n&&(t+=t);while(n);return e}function Ar(t,n,e,r){n=Xo(n,t)?[n]:Fr(n);for(var o=-1,i=n.length,u=i-1,a=t;null!=a&&++o<i;){var s=ci(n[o]);if(ga(a)){var f=e;if(o!=u){var c=a[s];f=r?r(c,s,a):J,f===J&&(f=null==c?Qo(n[o+1])?[]:{}:c)}he(a,s,f)}a=a[s]}return t}function Mr(t,n,e){var r=-1,o=t.length;0>n&&(n=-n>o?0:o+n),e=e>o?o:e,0>e&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+n];return i}function Tr(t,n){var e;return Sc(t,function(t,r,o){return e=n(t,r,o),!e}),!!e}function Cr(t,n,e){var r=0,o=t?t.length:r;if("number"==typeof n&&n===n&&xt>=o){for(;o>r;){var i=r+o>>>1,u=t[i];null!==u&&!Ra(u)&&(e?n>=u:n>u)?r=i+1:o=i}return o}return xr(t,n,$s,e)}function xr(t,n,e,r){n=e(n);for(var o=0,i=t?t.length:0,u=n!==n,a=null===n,s=Ra(n),f=n===J;i>o;){var c=Kf((o+i)/2),l=e(t[c]),p=l!==J,h=null===l,d=l===l,v=Ra(l);if(u)var _=r||d;else _=f?d&&(r||p):a?d&&p&&(r||!h):s?d&&p&&!h&&(r||!v):h||v?!1:r?n>=l:n>l;_?o=c+1:i=c}return tc(i,Ct)}function kr(t,n){for(var e=-1,r=t.length,o=0,i=[];++e<r;){var u=t[e],a=n?n(u):u;if(!e||!na(a,s)){var s=a;i[o++]=0===u?0:u}}return i}function Or(t){return"number"==typeof t?t:Ra(t)?Mt:+t}function Rr(t){if("string"==typeof t)return t;if(Ra(t))return Ec?Ec.call(t):"";var n=t+"";return"0"==n&&1/t==-St?"-0":n}function jr(t,n,e){var r=-1,o=h,i=t.length,u=!0,a=[],s=a;if(e)u=!1,o=d;else if(i>=tt){var f=n?null:Cc(t);if(f)return $(f);u=!1,o=R,s=new ee}else s=n?[]:a;t:for(;++r<i;){var c=t[r],l=n?n(c):c;if(c=e||0!==c?c:0,u&&l===l){for(var p=s.length;p--;)if(s[p]===l)continue t;n&&s.push(l),a.push(c)}else o(s,l,e)||(s!==a&&s.push(l),a.push(c))}return a}function Nr(t,n){n=Xo(n,t)?[n]:Fr(n),t=si(t,n);var e=ci(Oi(n));return!(null!=t&&Ve(t,e))||delete t[e]}function Pr(t,n,e,r){return Ar(t,n,e($e(t,n)),r)}function Dr(t,n,e,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&n(t[i],i,t););return e?Mr(t,r?0:i,r?i+1:o):Mr(t,r?i+1:0,r?o:i)}function Lr(t,n){var e=t;return e instanceof o&&(e=e.value()),g(n,function(t,n){return n.func.apply(n.thisArg,_([t],n.args))},e)}function Gr(t,n,e){for(var r=-1,o=t.length;++r<o;)var i=i?_(Re(i,t[r],n,e),Re(t[r],i,n,e)):t[r];return i&&i.length?jr(i,n,e):[]}function Hr(t,n,e){for(var r=-1,o=t.length,i=n.length,u={};++r<o;){var a=i>r?n[r]:J;e(u,t[r],a)}return u}function Br(t){return ia(t)?t:[]}function Wr(t){return"function"==typeof t?t:$s}function Fr(t){return gl(t)?t:Nc(t)}function zr(t,n,e){var r=t.length;return e=e===J?r:e,!n&&e>=r?t:Mr(t,n,e)}function Ur(t,n){if(n)return t.slice();var e=new t.constructor(t.length);return t.copy(e),e}function Yr(t){var n=new t.constructor(t.byteLength);return new Hf(n).set(new Hf(t)),n}function $r(t,n){var e=n?Yr(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}function qr(t,n,e){var r=n?e(U(t),!0):U(t);return g(r,i,new t.constructor)}function Kr(t){var n=new t.constructor(t.source,Mn.exec(t));return n.lastIndex=t.lastIndex,n}function Vr(t,n,e){var r=n?e($(t),!0):$(t);return g(r,u,new t.constructor)}function Zr(t){return wc?Object(wc.call(t)):{}}function Qr(t,n){var e=n?Yr(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function Jr(t,n){if(t!==n){var e=t!==J,r=null===t,o=t===t,i=Ra(t),u=n!==J,a=null===n,s=n===n,f=Ra(n);if(!a&&!f&&!i&&t>n||i&&u&&s&&!a&&!f||r&&u&&s||!e&&s||!o)return 1;if(!r&&!i&&!f&&n>t||f&&e&&o&&!r&&!i||a&&e&&o||!u&&o||!s)return-1}return 0}function Xr(t,n,e){for(var r=-1,o=t.criteria,i=n.criteria,u=o.length,a=e.length;++r<u;){var s=Jr(o[r],i[r]);if(s){if(r>=a)return s;var f=e[r];return s*("desc"==f?-1:1)}}return t.index-n.index}function to(t,n,e,r){for(var o=-1,i=t.length,u=e.length,a=-1,s=n.length,f=Xf(i-u,0),c=Array(s+f),l=!r;++a<s;)c[a]=n[a];for(;++o<u;)(l||i>o)&&(c[e[o]]=t[o]);for(;f--;)c[a++]=t[o++];return c}function no(t,n,e,r){for(var o=-1,i=t.length,u=-1,a=e.length,s=-1,f=n.length,c=Xf(i-a,0),l=Array(c+f),p=!r;++o<c;)l[o]=t[o];for(var h=o;++s<f;)l[h+s]=n[s];for(;++u<a;)(p||i>o)&&(l[h+e[u]]=t[o++]);return l}function eo(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}function ro(t,n,e,r){e||(e={});for(var o=-1,i=n.length;++o<i;){var u=n[o],a=r?r(e[u],t[u],u,e,t):t[u];he(e,u,a)}return e}function oo(t,n){return ro(t,Wo(t),n)}function io(t,n){return function(e,r){var o=gl(e)?s:ve,i=n?n():{};return o(e,t,Do(r),i)}}function uo(t){return Yu(function(n,e){var r=-1,o=e.length,i=o>1?e[o-1]:J,u=o>2?e[2]:J;for(i=t.length>3&&"function"==typeof i?(o--,i):J,u&&Jo(e[0],e[1],u)&&(i=3>o?J:i,o=1),n=Object(n);++r<o;){var a=e[r];a&&t(n,a,r,i)}return n})}function ao(t,n){return function(e,r){if(null==e)return e;if(!oa(e))return t(e,r);for(var o=e.length,i=n?o:-1,u=Object(e);(n?i--:++i<o)&&r(u[i],i,u)!==!1;);return e}}function so(t){return function(n,e,r){for(var o=-1,i=Object(n),u=r(n),a=u.length;a--;){var s=u[t?a:++o];if(e(i[s],s,i)===!1)break}return n}}function fo(t,n,e){function r(){var n=this&&this!==We&&this instanceof r?i:t;return n.apply(o?e:this,arguments)}var o=n&ot,i=po(t);return r}function co(t){return function(n){n=Ua(n);var e=Se.test(n)?V(n):J,r=e?e[0]:n.charAt(0),o=e?zr(e,1).join(""):n.slice(1);return r[t]()+o}}function lo(t){return function(n){return g(Fs(Es(n).replace(ye,"")),t,"")}}function po(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=ke(t.prototype),r=t.apply(e,n);return ga(r)?r:e}}function ho(t,n,e){function r(){for(var i=arguments.length,u=Array(i),s=i,f=Po(r);s--;)u[s]=arguments[s];var c=3>i&&u[0]!==f&&u[i-1]!==f?[]:Y(u,f);if(i-=c.length,e>i)return Ao(t,n,go,r.placeholder,J,u,c,J,J,e-i);var l=this&&this!==We&&this instanceof r?o:t;return a(l,this,u)}var o=po(t);return r}function vo(t){return function(n,e,r){var o=Object(n);if(e=Do(e,3),!oa(n))var i=rs(n);var u=t(i||n,function(t,n){return i&&(n=t,t=o[n]),e(t,n,o)},r);return u>-1?n[i?i[u]:u]:J}}function _o(t){return Yu(function(n){n=Be(n,1);var e=n.length,o=e,i=r.prototype.thru;for(t&&n.reverse();o--;){var u=n[o];if("function"!=typeof u)throw new Sf(nt);if(i&&!a&&"wrapper"==No(u))var a=new r([],!0)}for(o=a?o:e;++o<e;){u=n[o];var s=No(u),f="wrapper"==s?xc(u):J;a=f&&ni(f[0])&&f[1]==(lt|at|ft|pt)&&!f[4].length&&1==f[9]?a[No(f[0])].apply(a,f[3]):1==u.length&&ni(u)?a[s]():a.thru(u)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&gl(r)&&r.length>=tt)return a.plant(r).value();for(var o=0,i=e?n[o].apply(this,t):r;++o<e;)i=n[o].call(this,i);return i}})}function go(t,n,e,r,o,i,u,a,s,f){function c(){for(var g=arguments.length,m=Array(g),y=g;y--;)m[y]=arguments[y];if(d)var b=Po(c),w=D(m,b);if(r&&(m=to(m,r,o,d)),i&&(m=no(m,i,u,d)),g-=w,d&&f>g){var E=Y(m,b);return Ao(t,n,go,c.placeholder,e,m,E,a,s,f-g)}var S=p?e:this,I=h?S[t]:t;return g=m.length,a?m=fi(m,a):v&&g>1&&m.reverse(),l&&g>s&&(m.length=s),this&&this!==We&&this instanceof c&&(I=_||po(I)),I.apply(S,m)}var l=n&lt,p=n&ot,h=n&it,d=n&(at|st),v=n&ht,_=h?J:po(t);return c}function mo(t,n){return function(e,r){return Xe(e,t,n(r),{})}}function yo(t){return function(n,e){var r;if(n===J&&e===J)return 0;if(n!==J&&(r=n),e!==J){if(r===J)return e;"string"==typeof n||"string"==typeof e?(n=Rr(n),e=Rr(e)):(n=Or(n),e=Or(e)),r=t(n,e)}return r}}function bo(t){return Yu(function(n){return n=1==n.length&&gl(n[0])?v(n[0],k(Do())):v(Be(n,1,Zo),k(Do())),Yu(function(e){var r=this;return t(n,function(t){return a(t,r,e)})})})}function wo(t,n){n=n===J?" ":Rr(n);var e=n.length;if(2>e)return e?Ir(n,t):n;var r=Ir(n,qf(t/K(n)));return Se.test(n)?zr(V(r),0,t).join(""):r.slice(0,t)}function Eo(t,n,e,r){function o(){for(var n=-1,s=arguments.length,f=-1,c=r.length,l=Array(c+s),p=this&&this!==We&&this instanceof o?u:t;++f<c;)l[f]=r[f];for(;s--;)l[f++]=arguments[++n];return a(p,i?e:this,l)}var i=n&ot,u=po(t);return o}function So(t){return function(n,e,r){return r&&"number"!=typeof r&&Jo(n,e,r)&&(e=r=J),n=Wa(n),n=n===n?n:0,e===J?(e=n,n=0):e=Wa(e)||0,r=r===J?e>n?1:-1:Wa(r)||0,Sr(n,e,r,t)}}function Io(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=Wa(n),e=Wa(e)),t(n,e)}}function Ao(t,n,e,r,o,i,u,a,s,f){var c=n&at,l=c?u:J,p=c?J:u,h=c?i:J,d=c?J:i;n|=c?ft:ct,n&=~(c?ct:ft),n&ut||(n&=~(ot|it));var v=[t,n,o,h,l,d,p,a,s,f],_=e.apply(J,v);return ni(t)&&jc(_,v),_.placeholder=r,_}function Mo(t){var n=wf[t];return function(t,e){if(t=Wa(t),e=tc(Ha(e),292)){var r=(Ua(t)+"e").split("e"),o=n(r[0]+"e"+(+r[1]+e));return r=(Ua(o)+"e").split("e"),+(r[0]+"e"+(+r[1]-e))}return n(t)}}function To(t){return function(n){var e=Fo(n);return e==Lt?U(n):e==Ft?q(n):x(n,t(n))}}function Co(t,n,e,r,o,i,u,a){var s=n&it;if(!s&&"function"!=typeof t)throw new Sf(nt);var f=r?r.length:0;if(f||(n&=~(ft|ct),r=o=J),u=u===J?u:Xf(Ha(u),0),a=a===J?a:Ha(a),f-=o?o.length:0,n&ct){var c=r,l=o;r=o=J}var p=s?J:xc(t),h=[t,n,e,r,o,c,l,i,u,a];if(p&&ui(h,p),t=h[0],n=h[1],e=h[2],r=h[3],o=h[4],a=h[9]=null==h[9]?s?0:t.length:Xf(h[9]-f,0),!a&&n&(at|st)&&(n&=~(at|st)),n&&n!=ot)d=n==at||n==st?ho(t,n,a):n!=ft&&n!=(ot|ft)||o.length?go.apply(J,h):Eo(t,n,e,r);else var d=fo(t,n,e);var v=p?Tc:jc;return v(d,h)}function xo(t,n,e,r,o,i){var u=o&vt,a=t.length,s=n.length;if(a!=s&&!(u&&s>a))return!1;var f=i.get(t);if(f)return f==n;var c=-1,l=!0,p=o&dt?new ee:J;for(i.set(t,n);++c<a;){var h=t[c],d=n[c];if(r)var v=u?r(d,h,c,n,t,i):r(h,d,c,t,n,i);if(v!==J){if(v)continue;l=!1;break}if(p){if(!y(n,function(t,n){return p.has(n)||h!==t&&!e(h,t,r,o,i)?void 0:p.add(n)})){l=!1;break}}else if(h!==d&&!e(h,d,r,o,i)){l=!1;break}}return i["delete"](t),l}function ko(t,n,e,r,o,i,u){switch(e){case Kt:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case qt:return!(t.byteLength!=n.byteLength||!r(new Hf(t),new Hf(n)));case Rt:case jt:return+t==+n;case Nt:return t.name==n.name&&t.message==n.message;case Gt:return t!=+t?n!=+n:t==+n;case Wt:case zt:return t==n+"";case Lt:var a=U;case Ft:var s=i&vt;if(a||(a=$),t.size!=n.size&&!s)return!1;var f=u.get(t);return f?f==n:(i|=dt,u.set(t,n),xo(a(t),a(n),r,o,i,u));case Ut:if(wc)return wc.call(t)==wc.call(n)}return!1}function Oo(t,n,e,r,o,i){var u=o&vt,a=rs(t),s=a.length,f=rs(n),c=f.length;if(s!=c&&!u)return!1;for(var l=s;l--;){var p=a[l];if(!(u?p in n:Ve(n,p)))return!1}var h=i.get(t);if(h)return h==n;var d=!0;i.set(t,n);for(var v=u;++l<s;){p=a[l];var _=t[p],g=n[p];if(r)var m=u?r(g,_,p,n,t,i):r(_,g,p,t,n,i);if(!(m===J?_===g||e(_,g,r,o,i):m)){d=!1;break}v||(v="constructor"==p)}if(d&&!v){var y=t.constructor,b=n.constructor;y!=b&&"constructor"in t&&"constructor"in n&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(d=!1)}return i["delete"](t),d}function Ro(t){return qe(t,rs,Wo)}function jo(t){return qe(t,os,Oc)}function No(t){for(var n=t.name+"",e=dc[n],r=kf.call(dc,n)?e.length:0;r--;){var o=e[r],i=o.func;if(null==i||i==t)return o.name}return n}function Po(t){var e=kf.call(n,"placeholder")?n:t;return e.placeholder}function Do(){var t=n.iteratee||qs;return t=t===qs?ir:t,arguments.length?t(arguments[0],arguments[1]):t}function Lo(t,n){var e=t.__data__;return ti(n)?e["string"==typeof n?"string":"hash"]:e.map}function Go(t){for(var n=rs(t),e=n.length;e--;){var r=n[e],o=t[r];n[e]=[r,o,oi(o)]}return n}function Ho(t,n){var e=B(t,n);return or(e)?e:J}function Bo(t){return Vf(Object(t))}function Wo(t){return Wf(Object(t))}function Fo(t){return jf.call(t)}function zo(t,n,e){for(var r=-1,o=e.length;++r<o;){var i=e[r],u=i.size;switch(i.type){case"drop":t+=u;break;case"dropRight":n-=u;break;case"take":n=tc(n,t+u);break;case"takeRight":t=Xf(t,n-u)}}return{start:t,end:n}}function Uo(t,n,e){n=Xo(n,t)?[n]:Fr(n);for(var r,o=-1,i=n.length;++o<i;){var u=ci(n[o]);if(!(r=null!=t&&e(t,u)))break;t=t[u]}if(r)return r;var i=t?t.length:0;return!!i&&_a(i)&&Qo(u,i)&&(gl(t)||Oa(t)||ea(t))}function Yo(t){var n=t.length,e=t.constructor(n);return n&&"string"==typeof t[0]&&kf.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function $o(t){return"function"!=typeof t.constructor||ri(t)?{}:ke(Bo(t))}function qo(t,n,e,r){var o=t.constructor;switch(n){case qt:return Yr(t);case Rt:case jt:return new o(+t);case Kt:return $r(t,r);case Vt:case Zt:case Qt:case Jt:case Xt:case tn:case nn:case en:case rn:return Qr(t,r);case Lt:return qr(t,r,e);case Gt:case zt:return new o(t);case Wt:return Kr(t);case Ft:return Vr(t,r,e);case Ut:return Zr(t)}}function Ko(t){var n=t?t.length:J;return _a(n)&&(gl(t)||Oa(t)||ea(t))?C(n,String):null}function Vo(t){return gl(t)||ea(t)}function Zo(t){return gl(t)&&!(2==t.length&&!da(t[0]))}function Qo(t,n){return n=null==n?It:n,!!n&&("number"==typeof t||Rn.test(t))&&t>-1&&t%1==0&&n>t}function Jo(t,n,e){if(!ga(e))return!1;var r=typeof n;return("number"==r?oa(e)&&Qo(n,e.length):"string"==r&&n in e)?na(e[n],t):!1}function Xo(t,n){if(gl(t))return!1;var e=typeof t;return"number"==e||"symbol"==e||"boolean"==e||null==t||Ra(t)?!0:_n.test(t)||!vn.test(t)||null!=n&&t in Object(n)}function ti(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}function ni(t){var e=No(t),r=n[e];if("function"!=typeof r||!(e in o.prototype))return!1;if(t===r)return!0;var i=xc(r);return!!i&&t===i[0]}function ei(t){return!!Cf&&Cf in t}function ri(t){var n=t&&t.constructor,e="function"==typeof n&&n.prototype||Af;return t===e}function oi(t){return t===t&&!ga(t)}function ii(t,n){return function(e){return null==e?!1:e[t]===n&&(n!==J||t in Object(e))}}function ui(t,n){var e=t[1],r=n[1],o=e|r,i=(ot|it|lt)>o,u=r==lt&&e==at||r==lt&&e==pt&&t[7].length<=n[8]||r==(lt|pt)&&n[7].length<=n[8]&&e==at;if(!i&&!u)return t;r&ot&&(t[2]=n[2],o|=e&ot?0:ut);var a=n[3];if(a){var s=t[3];t[3]=s?to(s,a,n[4]):a,t[4]=s?Y(t[3],rt):n[4]}return a=n[5],a&&(s=t[5],t[5]=s?no(s,a,n[6]):a,t[6]=s?Y(t[5],rt):n[6]),a=n[7],a&&(t[7]=a),r&lt&&(t[8]=null==t[8]?n[8]:tc(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=o,t}function ai(t,n,e,r,o,i){return ga(t)&&ga(n)&&pr(t,n,J,ai,i.set(n,t)),t}function si(t,n){return 1==n.length?t:$e(t,Mr(n,0,-1))}function fi(t,n){for(var e=t.length,r=tc(n.length,e),o=eo(t);r--;){var i=n[r];t[r]=Qo(i,e)?o[i]:J}return t}function ci(t){if("string"==typeof t||Ra(t))return t;
var n=t+"";return"0"==n&&1/t==-St?"-0":n}function li(t){if(null!=t){try{return xf.call(t)}catch(n){}try{return t+""}catch(n){}}return""}function pi(t){if(t instanceof o)return t.clone();var n=new r(t.__wrapped__,t.__chain__);return n.__actions__=eo(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}function hi(t,n,e){n=(e?Jo(t,n,e):n===J)?1:Xf(Ha(n),0);var r=t?t.length:0;if(!r||1>n)return[];for(var o=0,i=0,u=Array(qf(r/n));r>o;)u[i++]=Mr(t,o,o+=n);return u}function di(t){for(var n=-1,e=t?t.length:0,r=0,o=[];++n<e;){var i=t[n];i&&(o[r++]=i)}return o}function vi(){for(var t=arguments.length,n=Array(t?t-1:0),e=arguments[0],r=t;r--;)n[r-1]=arguments[r];return t?_(gl(e)?eo(e):[e],Be(n,1)):[]}function _i(t,n,e){var r=t?t.length:0;return r?(n=e||n===J?1:Ha(n),Mr(t,0>n?0:n,r)):[]}function gi(t,n,e){var r=t?t.length:0;return r?(n=e||n===J?1:Ha(n),n=r-n,Mr(t,0,0>n?0:n)):[]}function mi(t,n){return t&&t.length?Dr(t,Do(n,3),!0,!0):[]}function yi(t,n){return t&&t.length?Dr(t,Do(n,3),!0):[]}function bi(t,n,e,r){var o=t?t.length:0;return o?(e&&"number"!=typeof e&&Jo(t,n,e)&&(e=0,r=o),Ge(t,n,e,r)):[]}function wi(t,n,e){var r=t?t.length:0;if(!r)return-1;var o=null==e?0:Ha(e);return 0>o&&(o=Xf(r+o,0)),w(t,Do(n,3),o)}function Ei(t,n,e){var r=t?t.length:0;if(!r)return-1;var o=r-1;return e!==J&&(o=Ha(e),o=0>e?Xf(r+o,0):tc(o,r-1)),w(t,Do(n,3),o,!0)}function Si(t){var n=t?t.length:0;return n?Be(t,1):[]}function Ii(t){var n=t?t.length:0;return n?Be(t,St):[]}function Ai(t,n){var e=t?t.length:0;return e?(n=n===J?1:Ha(n),Be(t,n)):[]}function Mi(t){for(var n=-1,e=t?t.length:0,r={};++n<e;){var o=t[n];r[o[0]]=o[1]}return r}function Ti(t){return t&&t.length?t[0]:J}function Ci(t,n,e){var r=t?t.length:0;if(!r)return-1;var o=null==e?0:Ha(e);return 0>o&&(o=Xf(r+o,0)),E(t,n,o)}function xi(t){return gi(t,1)}function ki(t,n){return t?Qf.call(t,n):""}function Oi(t){var n=t?t.length:0;return n?t[n-1]:J}function Ri(t,n,e){var r=t?t.length:0;if(!r)return-1;var o=r;if(e!==J&&(o=Ha(e),o=(0>o?Xf(r+o,0):tc(o,r-1))+1),n!==n)return W(t,o-1,!0);for(;o--;)if(t[o]===n)return o;return-1}function ji(t,n){return t&&t.length?dr(t,Ha(n)):J}function Ni(t,n){return t&&t.length&&n&&n.length?br(t,n):t}function Pi(t,n,e){return t&&t.length&&n&&n.length?br(t,n,Do(e)):t}function Di(t,n,e){return t&&t.length&&n&&n.length?br(t,n,J,e):t}function Li(t,n){var e=[];if(!t||!t.length)return e;var r=-1,o=[],i=t.length;for(n=Do(n,3);++r<i;){var u=t[r];n(u,r,t)&&(e.push(u),o.push(r))}return wr(t,o),e}function Gi(t){return t?oc.call(t):t}function Hi(t,n,e){var r=t?t.length:0;return r?(e&&"number"!=typeof e&&Jo(t,n,e)?(n=0,e=r):(n=null==n?0:Ha(n),e=e===J?r:Ha(e)),Mr(t,n,e)):[]}function Bi(t,n){return Cr(t,n)}function Wi(t,n,e){return xr(t,n,Do(e))}function Fi(t,n){var e=t?t.length:0;if(e){var r=Cr(t,n);if(e>r&&na(t[r],n))return r}return-1}function zi(t,n){return Cr(t,n,!0)}function Ui(t,n,e){return xr(t,n,Do(e),!0)}function Yi(t,n){var e=t?t.length:0;if(e){var r=Cr(t,n,!0)-1;if(na(t[r],n))return r}return-1}function $i(t){return t&&t.length?kr(t):[]}function qi(t,n){return t&&t.length?kr(t,Do(n)):[]}function Ki(t){return _i(t,1)}function Vi(t,n,e){return t&&t.length?(n=e||n===J?1:Ha(n),Mr(t,0,0>n?0:n)):[]}function Zi(t,n,e){var r=t?t.length:0;return r?(n=e||n===J?1:Ha(n),n=r-n,Mr(t,0>n?0:n,r)):[]}function Qi(t,n){return t&&t.length?Dr(t,Do(n,3),!1,!0):[]}function Ji(t,n){return t&&t.length?Dr(t,Do(n,3)):[]}function Xi(t){return t&&t.length?jr(t):[]}function tu(t,n){return t&&t.length?jr(t,Do(n)):[]}function nu(t,n){return t&&t.length?jr(t,J,n):[]}function eu(t){if(!t||!t.length)return[];var n=0;return t=p(t,function(t){return ia(t)?(n=Xf(t.length,n),!0):void 0}),C(n,function(n){return v(t,mr(n))})}function ru(t,n){if(!t||!t.length)return[];var e=eu(t);return null==n?e:v(e,function(t){return a(n,J,t)})}function ou(t,n){return Hr(t||[],n||[],he)}function iu(t,n){return Hr(t||[],n||[],Ar)}function uu(t){var e=n(t);return e.__chain__=!0,e}function au(t,n){return n(t),t}function su(t,n){return n(t)}function fu(){return uu(this)}function cu(){return new r(this.value(),this.__chain__)}function lu(){this.__values__===J&&(this.__values__=La(this.value()));var t=this.__index__>=this.__values__.length,n=t?J:this.__values__[this.__index__++];return{done:t,value:n}}function pu(){return this}function hu(t){for(var n,r=this;r instanceof e;){var o=pi(r);o.__index__=0,o.__values__=J,n?i.__wrapped__=o:n=o;var i=o;r=r.__wrapped__}return i.__wrapped__=t,n}function du(){var t=this.__wrapped__;if(t instanceof o){var n=t;return this.__actions__.length&&(n=new o(this)),n=n.reverse(),n.__actions__.push({func:su,args:[Gi],thisArg:J}),new r(n,this.__chain__)}return this.thru(Gi)}function vu(){return Lr(this.__wrapped__,this.__actions__)}function _u(t,n,e){var r=gl(t)?l:Pe;return e&&Jo(t,n,e)&&(n=J),r(t,Do(n,3))}function gu(t,n){var e=gl(t)?p:He;return e(t,Do(n,3))}function mu(t,n){return Be(Iu(t,n),1)}function yu(t,n){return Be(Iu(t,n),St)}function bu(t,n,e){return e=e===J?1:Ha(e),Be(Iu(t,n),e)}function wu(t,n){var e=gl(t)?f:Sc;return e(t,Do(n,3))}function Eu(t,n){var e=gl(t)?c:Ic;return e(t,Do(n,3))}function Su(t,n,e,r){t=oa(t)?t:_s(t),e=e&&!r?Ha(e):0;var o=t.length;return 0>e&&(e=Xf(o+e,0)),Oa(t)?o>=e&&t.indexOf(n,e)>-1:!!o&&E(t,n,e)>-1}function Iu(t,n){var e=gl(t)?v:fr;return e(t,Do(n,3))}function Au(t,n,e,r){return null==t?[]:(gl(n)||(n=null==n?[]:[n]),e=r?J:e,gl(e)||(e=null==e?[]:[e]),vr(t,n,e))}function Mu(t,n,e){var r=gl(t)?g:A,o=arguments.length<3;return r(t,Do(n,4),e,o,Sc)}function Tu(t,n,e){var r=gl(t)?m:A,o=arguments.length<3;return r(t,Do(n,4),e,o,Ic)}function Cu(t,n){var e=gl(t)?p:He;return n=Do(n,3),e(t,function(t,e,r){return!n(t,e,r)})}function xu(t){var n=oa(t)?t:_s(t),e=n.length;return e>0?n[Er(0,e-1)]:J}function ku(t,n,e){var r=-1,o=La(t),i=o.length,u=i-1;for(n=(e?Jo(t,n,e):n===J)?1:me(Ha(n),0,i);++r<n;){var a=Er(r,u),s=o[a];o[a]=o[r],o[r]=s}return o.length=n,o}function Ou(t){return ku(t,Tt)}function Ru(t){if(null==t)return 0;if(oa(t)){var n=t.length;return n&&Oa(t)?K(t):n}if(ma(t)){var e=Fo(t);if(e==Lt||e==Ft)return t.size}return rs(t).length}function ju(t,n,e){var r=gl(t)?y:Tr;return e&&Jo(t,n,e)&&(n=J),r(t,Do(n,3))}function Nu(){return yf.now()}function Pu(t,n){if("function"!=typeof n)throw new Sf(nt);return t=Ha(t),function(){return--t<1?n.apply(this,arguments):void 0}}function Du(t,n,e){return n=e?J:n,n=t&&null==n?t.length:n,Co(t,lt,J,J,J,J,n)}function Lu(t,n){var e;if("function"!=typeof n)throw new Sf(nt);return t=Ha(t),function(){return--t>0&&(e=n.apply(this,arguments)),1>=t&&(n=J),e}}function Gu(t,n,e){n=e?J:n;var r=Co(t,at,J,J,J,J,J,n);return r.placeholder=Gu.placeholder,r}function Hu(t,n,e){n=e?J:n;var r=Co(t,st,J,J,J,J,J,n);return r.placeholder=Hu.placeholder,r}function Bu(t,n,e){function r(n){var e=p,r=h;return p=h=J,m=n,v=t.apply(r,e)}function o(t){return m=t,_=$f(a,n),y?r(t):v}function i(t){var e=t-g,r=t-m,o=n-e;return b?tc(o,d-r):o}function u(t){var e=t-g,r=t-m;return g===J||e>=n||0>e||b&&r>=d}function a(){var t=Nu();return u(t)?s(t):void(_=$f(a,i(t)))}function s(t){return _=J,w&&p?r(t):(p=h=J,v)}function f(){m=0,p=g=h=_=J}function c(){return _===J?v:s(Nu())}function l(){var t=Nu(),e=u(t);if(p=arguments,h=this,g=t,e){if(_===J)return o(g);if(b)return _=$f(a,n),r(g)}return _===J&&(_=$f(a,n)),v}var p,h,d,v,_,g,m=0,y=!1,b=!1,w=!0;if("function"!=typeof t)throw new Sf(nt);return n=Wa(n)||0,ga(e)&&(y=!!e.leading,b="maxWait"in e,d=b?Xf(Wa(e.maxWait)||0,n):d,w="trailing"in e?!!e.trailing:w),l.cancel=f,l.flush=c,l}function Wu(t){return Co(t,ht)}function Fu(t,n){if("function"!=typeof t||n&&"function"!=typeof n)throw new Sf(nt);var e=function(){var r=arguments,o=n?n.apply(this,r):r[0],i=e.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return e.cache=i.set(o,u),u};return e.cache=new(Fu.Cache||Zn),e}function zu(t){if("function"!=typeof t)throw new Sf(nt);return function(){return!t.apply(this,arguments)}}function Uu(t){return Lu(2,t)}function Yu(t,n){if("function"!=typeof t)throw new Sf(nt);return n=Xf(n===J?t.length-1:Ha(n),0),function(){for(var e=arguments,r=-1,o=Xf(e.length-n,0),i=Array(o);++r<o;)i[r]=e[n+r];switch(n){case 0:return t.call(this,i);case 1:return t.call(this,e[0],i);case 2:return t.call(this,e[0],e[1],i)}var u=Array(n+1);for(r=-1;++r<n;)u[r]=e[r];return u[n]=i,a(t,this,u)}}function $u(t,n){if("function"!=typeof t)throw new Sf(nt);return n=n===J?0:Xf(Ha(n),0),Yu(function(e){var r=e[n],o=zr(e,0,n);return r&&_(o,r),a(t,this,o)})}function qu(t,n,e){var r=!0,o=!0;if("function"!=typeof t)throw new Sf(nt);return ga(e)&&(r="leading"in e?!!e.leading:r,o="trailing"in e?!!e.trailing:o),Bu(t,n,{leading:r,maxWait:n,trailing:o})}function Ku(t){return Du(t,1)}function Vu(t,n){return n=null==n?$s:n,pl(n,t)}function Zu(){if(!arguments.length)return[];var t=arguments[0];return gl(t)?t:[t]}function Qu(t){return we(t,!1,!0)}function Ju(t,n){return we(t,!1,!0,n)}function Xu(t){return we(t,!0,!0)}function ta(t,n){return we(t,!0,!0,n)}function na(t,n){return t===n||t!==t&&n!==n}function ea(t){return ia(t)&&kf.call(t,"callee")&&(!Uf.call(t,"callee")||jf.call(t)==kt)}function ra(t){return ma(t)&&jf.call(t)==qt}function oa(t){return null!=t&&_a(kc(t))&&!da(t)}function ia(t){return ma(t)&&oa(t)}function ua(t){return t===!0||t===!1||ma(t)&&jf.call(t)==Rt}function aa(t){return ma(t)&&jf.call(t)==jt}function sa(t){return!!t&&1===t.nodeType&&ma(t)&&!Ta(t)}function fa(t){if(oa(t)&&(gl(t)||Oa(t)||da(t.splice)||ea(t)||ml(t)))return!t.length;if(ma(t)){var n=Fo(t);if(n==Lt||n==Ft)return!t.size}for(var e in t)if(kf.call(t,e))return!1;return!(hc&&rs(t).length)}function ca(t,n){return nr(t,n)}function la(t,n,e){e="function"==typeof e?e:J;var r=e?e(t,n):J;return r===J?nr(t,n,e):!!r}function pa(t){return ma(t)?jf.call(t)==Nt||"string"==typeof t.message&&"string"==typeof t.name:!1}function ha(t){return"number"==typeof t&&Zf(t)}function da(t){var n=ga(t)?jf.call(t):"";return n==Pt||n==Dt}function va(t){return"number"==typeof t&&t==Ha(t)}function _a(t){return"number"==typeof t&&t>-1&&t%1==0&&It>=t}function ga(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function ma(t){return!!t&&"object"==typeof t}function ya(t){return ma(t)&&Fo(t)==Lt}function ba(t,n){return t===n||rr(t,n,Go(n))}function wa(t,n,e){return e="function"==typeof e?e:J,rr(t,n,Go(n),e)}function Ea(t){return Ma(t)&&t!=+t}function Sa(t){if(Rc(t))throw new bf("This method is not supported with `core-js`. Try https://github.com/es-shims.");return or(t)}function Ia(t){return null===t}function Aa(t){return null==t}function Ma(t){return"number"==typeof t||ma(t)&&jf.call(t)==Gt}function Ta(t){if(!ma(t)||jf.call(t)!=Ht||F(t))return!1;var n=Bo(t);if(null===n)return!0;var e=kf.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&xf.call(e)==Rf}function Ca(t){return ga(t)&&jf.call(t)==Wt}function xa(t){return va(t)&&t>=-It&&It>=t}function ka(t){return ma(t)&&Fo(t)==Ft}function Oa(t){return"string"==typeof t||!gl(t)&&ma(t)&&jf.call(t)==zt}function Ra(t){return"symbol"==typeof t||ma(t)&&jf.call(t)==Ut}function ja(t){return ma(t)&&_a(t.length)&&!!Te[jf.call(t)]}function Na(t){return t===J}function Pa(t){return ma(t)&&Fo(t)==Yt}function Da(t){return ma(t)&&jf.call(t)==$t}function La(t){if(!t)return[];if(oa(t))return Oa(t)?V(t):eo(t);if(Ff&&t[Ff])return z(t[Ff]());var n=Fo(t),e=n==Lt?U:n==Ft?$:_s;return e(t)}function Ga(t){if(!t)return 0===t?t:0;if(t=Wa(t),t===St||t===-St){var n=0>t?-1:1;return n*At}return t===t?t:0}function Ha(t){var n=Ga(t),e=n%1;return n===n?e?n-e:n:0}function Ba(t){return t?me(Ha(t),0,Tt):0}function Wa(t){if("number"==typeof t)return t;if(Ra(t))return Mt;if(ga(t)){var n=da(t.valueOf)?t.valueOf():t;t=ga(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(bn,"");var e=xn.test(t);return e||On.test(t)?Ne(t.slice(2),e?2:8):Cn.test(t)?Mt:+t}function Fa(t){return ro(t,os(t))}function za(t){return me(Ha(t),-It,It)}function Ua(t){return null==t?"":Rr(t)}function Ya(t,n){var e=ke(t);return n?_e(e,n):e}function $a(t,n){return b(t,Do(n,3),ze)}function qa(t,n){return b(t,Do(n,3),Ue)}function Ka(t,n){return null==t?t:Ac(t,Do(n,3),os)}function Va(t,n){return null==t?t:Mc(t,Do(n,3),os)}function Za(t,n){return t&&ze(t,Do(n,3))}function Qa(t,n){return t&&Ue(t,Do(n,3))}function Ja(t){return null==t?[]:Ye(t,rs(t))}function Xa(t){return null==t?[]:Ye(t,os(t))}function ts(t,n,e){var r=null==t?J:$e(t,n);return r===J?e:r}function ns(t,n){return null!=t&&Uo(t,n,Ve)}function es(t,n){return null!=t&&Uo(t,n,Ze)}function rs(t){var n=ri(t);if(!n&&!oa(t))return ur(t);var e=Ko(t),r=!!e,o=e||[],i=o.length;for(var u in t)!Ve(t,u)||r&&("length"==u||Qo(u,i))||n&&"constructor"==u||o.push(u);return o}function os(t){for(var n=-1,e=ri(t),r=ar(t),o=r.length,i=Ko(t),u=!!i,a=i||[],s=a.length;++n<o;){var f=r[n];u&&("length"==f||Qo(f,s))||"constructor"==f&&(e||!kf.call(t,f))||a.push(f)}return a}function is(t,n){var e={};return n=Do(n,3),ze(t,function(t,r,o){e[n(t,r,o)]=t}),e}function us(t,n){var e={};return n=Do(n,3),ze(t,function(t,r,o){e[r]=n(t,r,o)}),e}function as(t,n){return n=Do(n),gr(t,function(t,e){return!n(t,e)})}function ss(t,n){return null==t?{}:gr(t,Do(n))}function fs(t,n,e){n=Xo(n,t)?[n]:Fr(n);var r=-1,o=n.length;for(o||(t=J,o=1);++r<o;){var i=null==t?J:t[ci(n[r])];i===J&&(r=o,i=e),t=da(i)?i.call(t):i}return t}function cs(t,n,e){return null==t?t:Ar(t,n,e)}function ls(t,n,e,r){return r="function"==typeof r?r:J,null==t?t:Ar(t,n,e,r)}function ps(t,n,e){var r=gl(t)||ja(t);if(n=Do(n,4),null==e)if(r||ga(t)){var o=t.constructor;e=r?gl(t)?new o:[]:da(o)?ke(Bo(t)):{}}else e={};return(r?f:ze)(t,function(t,r,o){return n(e,t,r,o)}),e}function hs(t,n){return null==t?!0:Nr(t,n)}function ds(t,n,e){return null==t?t:Pr(t,n,Wr(e))}function vs(t,n,e,r){return r="function"==typeof r?r:J,null==t?t:Pr(t,n,Wr(e),r)}function _s(t){return t?O(t,rs(t)):[]}function gs(t){return null==t?[]:O(t,os(t))}function ms(t,n,e){return e===J&&(e=n,n=J),e!==J&&(e=Wa(e),e=e===e?e:0),n!==J&&(n=Wa(n),n=n===n?n:0),me(Wa(t),n,e)}function ys(t,n,e){return n=Wa(n)||0,e===J?(e=n,n=0):e=Wa(e)||0,t=Wa(t),Qe(t,n,e)}function bs(t,n,e){if(e&&"boolean"!=typeof e&&Jo(t,n,e)&&(n=e=J),e===J&&("boolean"==typeof n?(e=n,n=J):"boolean"==typeof t&&(e=t,t=J)),t===J&&n===J?(t=0,n=1):(t=Wa(t)||0,n===J?(n=t,t=0):n=Wa(n)||0),t>n){var r=t;t=n,n=r}if(e||t%1||n%1){var o=ec();return tc(t+o*(n-t+je("1e-"+((o+"").length-1))),n)}return Er(t,n)}function ws(t){return Ul(Ua(t).toLowerCase())}function Es(t){return t=Ua(t),t&&t.replace(jn,L).replace(be,"")}function Ss(t,n,e){t=Ua(t),n=Rr(n);var r=t.length;return e=e===J?r:me(Ha(e),0,r),e-=n.length,e>=0&&t.indexOf(n,e)==e}function Is(t){return t=Ua(t),t&&ln.test(t)?t.replace(fn,G):t}function As(t){return t=Ua(t),t&&yn.test(t)?t.replace(mn,"\\$&"):t}function Ms(t,n,e){t=Ua(t),n=Ha(n);var r=n?K(t):0;if(!n||r>=n)return t;var o=(n-r)/2;return wo(Kf(o),e)+t+wo(qf(o),e)}function Ts(t,n,e){t=Ua(t),n=Ha(n);var r=n?K(t):0;return n&&n>r?t+wo(n-r,e):t}function Cs(t,n,e){t=Ua(t),n=Ha(n);var r=n?K(t):0;return n&&n>r?wo(n-r,e)+t:t}function xs(t,n,e){return e||null==n?n=0:n&&(n=+n),t=Ua(t).replace(bn,""),nc(t,n||(Tn.test(t)?16:10))}function ks(t,n,e){return n=(e?Jo(t,n,e):n===J)?1:Ha(n),Ir(Ua(t),n)}function Os(){var t=arguments,n=Ua(t[0]);return t.length<3?n:rc.call(n,t[1],t[2])}function Rs(t,n,e){return e&&"number"!=typeof e&&Jo(t,n,e)&&(n=e=J),(e=e===J?Tt:e>>>0)?(t=Ua(t),t&&("string"==typeof n||null!=n&&!Ca(n))&&(n=Rr(n),""==n&&Se.test(t))?zr(V(t),0,e):ic.call(t,n,e)):[]}function js(t,n,e){return t=Ua(t),e=me(Ha(e),0,t.length),t.lastIndexOf(Rr(n),e)==e}function Ns(t,e,r){var o=n.templateSettings;r&&Jo(t,e,r)&&(e=J),t=Ua(t),e=Sl({},e,o,le);var i,u,a=Sl({},e.imports,o.imports,le),s=rs(a),f=O(a,s),c=0,l=e.interpolate||Nn,p="__p += '",h=Ef((e.escape||Nn).source+"|"+l.source+"|"+(l===dn?An:Nn).source+"|"+(e.evaluate||Nn).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Me+"]")+"\n";t.replace(h,function(n,e,r,o,a,s){return r||(r=o),p+=t.slice(c,s).replace(Pn,H),e&&(i=!0,p+="' +\n__e("+e+") +\n'"),a&&(u=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+n.length,n}),p+="';\n";var v=e.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(u?p.replace(on,""):p).replace(un,"$1").replace(an,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var _=Yl(function(){return Function(s,d+"return "+p).apply(J,f)});if(_.source=p,pa(_))throw _;return _}function Ps(t){return Ua(t).toLowerCase()}function Ds(t){return Ua(t).toUpperCase()}function Ls(t,n,e){if(t=Ua(t),t&&(e||n===J))return t.replace(bn,"");if(!t||!(n=Rr(n)))return t;var r=V(t),o=V(n),i=j(r,o),u=N(r,o)+1;return zr(r,i,u).join("")}function Gs(t,n,e){if(t=Ua(t),t&&(e||n===J))return t.replace(En,"");if(!t||!(n=Rr(n)))return t;var r=V(t),o=N(r,V(n))+1;return zr(r,0,o).join("")}function Hs(t,n,e){if(t=Ua(t),t&&(e||n===J))return t.replace(wn,"");if(!t||!(n=Rr(n)))return t;var r=V(t),o=j(r,V(n));return zr(r,o).join("")}function Bs(t,n){var e=_t,r=gt;if(ga(n)){var o="separator"in n?n.separator:o;e="length"in n?Ha(n.length):e,r="omission"in n?Rr(n.omission):r}t=Ua(t);var i=t.length;if(Se.test(t)){var u=V(t);i=u.length}if(e>=i)return t;var a=e-K(r);if(1>a)return r;var s=u?zr(u,0,a).join(""):t.slice(0,a);if(o===J)return s+r;if(u&&(a+=s.length-a),Ca(o)){if(t.slice(a).search(o)){var f,c=s;for(o.global||(o=Ef(o.source,Ua(Mn.exec(o))+"g")),o.lastIndex=0;f=o.exec(c);)var l=f.index;s=s.slice(0,l===J?a:l)}}else if(t.indexOf(Rr(o),a)!=a){var p=s.lastIndexOf(o);p>-1&&(s=s.slice(0,p))}return s+r}function Ws(t){return t=Ua(t),t&&cn.test(t)?t.replace(sn,Z):t}function Fs(t,n,e){return t=Ua(t),n=e?J:n,n===J&&(n=Ie.test(t)?Ee:Sn),t.match(n)||[]}function zs(t){var n=t?t.length:0,e=Do();return t=n?v(t,function(t){if("function"!=typeof t[1])throw new Sf(nt);return[e(t[0]),t[1]]}):[],Yu(function(e){for(var r=-1;++r<n;){var o=t[r];if(a(o[0],this,e))return a(o[1],this,e)}})}function Us(t){return xe(we(t,!0))}function Ys(t){return function(){return t}}function $s(t){return t}function qs(t){return ir("function"==typeof t?t:we(t,!0))}function Ks(t){return cr(we(t,!0))}function Vs(t,n){return lr(t,we(n,!0))}function Zs(t,n,e){var r=rs(n),o=Ye(n,r);null!=e||ga(n)&&(o.length||!r.length)||(e=n,n=t,t=this,o=Ye(n,rs(n)));var i=!(ga(e)&&"chain"in e&&!e.chain),u=da(t);return f(o,function(e){var r=n[e];t[e]=r,u&&(t.prototype[e]=function(){var n=this.__chain__;if(i||n){var e=t(this.__wrapped__),o=e.__actions__=eo(this.__actions__);return o.push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,_([this.value()],arguments))})}),t}function Qs(){return We._===this&&(We._=Nf),this}function Js(){}function Xs(t){return t=Ha(t),Yu(function(n){return dr(n,t)})}function tf(t){return Xo(t)?mr(ci(t)):yr(t)}function nf(t){return function(n){return null==t?J:$e(t,n)}}function ef(){return[]}function rf(){return!1}function of(){return{}}function uf(){return""}function af(){return!0}function sf(t,n){if(t=Ha(t),1>t||t>It)return[];var e=Tt,r=tc(t,Tt);n=Do(n),t-=Tt;for(var o=C(r,n);++e<t;)n(e);return o}function ff(t){return gl(t)?v(t,ci):Ra(t)?[t]:eo(Nc(t))}function cf(t){var n=++Of;return Ua(t)+n}function lf(t){return t&&t.length?De(t,$s,Ke):J}function pf(t,n){return t&&t.length?De(t,Do(n),Ke):J}function hf(t){return I(t,$s)}function df(t,n){return I(t,Do(n))}function vf(t){return t&&t.length?De(t,$s,sr):J}function _f(t,n){return t&&t.length?De(t,Do(n),sr):J}function gf(t){return t&&t.length?T(t,$s):0}function mf(t,n){return t&&t.length?T(t,Do(n)):0}t=t?Fe.defaults({},t,Fe.pick(We,Ae)):We;var yf=t.Date,bf=t.Error,wf=t.Math,Ef=t.RegExp,Sf=t.TypeError,If=t.Array.prototype,Af=t.Object.prototype,Mf=t.String.prototype,Tf=t["__core-js_shared__"],Cf=function(){var t=/[^.]+$/.exec(Tf&&Tf.keys&&Tf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),xf=t.Function.prototype.toString,kf=Af.hasOwnProperty,Of=0,Rf=xf.call(Object),jf=Af.toString,Nf=We._,Pf=Ef("^"+xf.call(kf).replace(mn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Df=Le?t.Buffer:J,Lf=t.Reflect,Gf=t.Symbol,Hf=t.Uint8Array,Bf=Lf?Lf.enumerate:J,Wf=Object.getOwnPropertySymbols,Ff="symbol"==typeof(Ff=Gf&&Gf.iterator)?Ff:J,zf=Object.create,Uf=Af.propertyIsEnumerable,Yf=If.splice,$f=function(n,e){return t.setTimeout.call(We,n,e)},qf=wf.ceil,Kf=wf.floor,Vf=Object.getPrototypeOf,Zf=t.isFinite,Qf=If.join,Jf=Object.keys,Xf=wf.max,tc=wf.min,nc=t.parseInt,ec=wf.random,rc=Mf.replace,oc=If.reverse,ic=Mf.split,uc=Ho(t,"DataView"),ac=Ho(t,"Map"),sc=Ho(t,"Promise"),fc=Ho(t,"Set"),cc=Ho(t,"WeakMap"),lc=Ho(Object,"create"),pc=cc&&new cc,hc=!Uf.call({valueOf:1},"valueOf"),dc={},vc=li(uc),_c=li(ac),gc=li(sc),mc=li(fc),yc=li(cc),bc=Gf?Gf.prototype:J,wc=bc?bc.valueOf:J,Ec=bc?bc.toString:J;n.templateSettings={escape:pn,evaluate:hn,interpolate:dn,variable:"",imports:{_:n}},n.prototype=e.prototype,n.prototype.constructor=n,r.prototype=ke(e.prototype),r.prototype.constructor=r,o.prototype=ke(e.prototype),o.prototype.constructor=o,Gn.prototype.clear=Hn,Gn.prototype["delete"]=Bn,Gn.prototype.get=Wn,Gn.prototype.has=Fn,Gn.prototype.set=zn,Un.prototype.clear=Yn,Un.prototype["delete"]=$n,Un.prototype.get=qn,Un.prototype.has=Kn,Un.prototype.set=Vn,Zn.prototype.clear=Qn,Zn.prototype["delete"]=Jn,Zn.prototype.get=Xn,Zn.prototype.has=te,Zn.prototype.set=ne,ee.prototype.add=ee.prototype.push=re,ee.prototype.has=oe,ie.prototype.clear=ue,ie.prototype["delete"]=ae,ie.prototype.get=se,ie.prototype.has=fe,ie.prototype.set=ce;var Sc=ao(ze),Ic=ao(Ue,!0),Ac=so(),Mc=so(!0);Bf&&!Uf.call({valueOf:1},"valueOf")&&(ar=function(t){return z(Bf(t))});var Tc=pc?function(t,n){return pc.set(t,n),t}:$s,Cc=fc&&1/$(new fc([,-0]))[1]==St?function(t){return new fc(t)}:Js,xc=pc?function(t){return pc.get(t)}:Js,kc=mr("length");Wf||(Wo=ef);var Oc=Wf?function(t){for(var n=[];t;)_(n,Wo(t)),t=Bo(t);return n}:Wo;(uc&&Fo(new uc(new ArrayBuffer(1)))!=Kt||ac&&Fo(new ac)!=Lt||sc&&Fo(sc.resolve())!=Bt||fc&&Fo(new fc)!=Ft||cc&&Fo(new cc)!=Yt)&&(Fo=function(t){var n=jf.call(t),e=n==Ht?t.constructor:J,r=e?li(e):J;if(r)switch(r){case vc:return Kt;case _c:return Lt;case gc:return Bt;case mc:return Ft;case yc:return Yt}return n});var Rc=Tf?da:rf,jc=function(){var t=0,n=0;return function(e,r){var o=Nu(),i=yt-(o-n);if(n=o,i>0){if(++t>=mt)return e}else t=0;return Tc(e,r)}}(),Nc=Fu(function(t){var n=[];return Ua(t).replace(gn,function(t,e,r,o){n.push(r?o.replace(In,"$1"):e||t)}),n}),Pc=Yu(function(t,n){return ia(t)?Re(t,Be(n,1,ia,!0)):[]}),Dc=Yu(function(t,n){var e=Oi(n);return ia(e)&&(e=J),ia(t)?Re(t,Be(n,1,ia,!0),Do(e)):[]}),Lc=Yu(function(t,n){var e=Oi(n);return ia(e)&&(e=J),ia(t)?Re(t,Be(n,1,ia,!0),J,e):[]}),Gc=Yu(function(t){var n=v(t,Br);return n.length&&n[0]===t[0]?Je(n):[]}),Hc=Yu(function(t){var n=Oi(t),e=v(t,Br);return n===Oi(e)?n=J:e.pop(),e.length&&e[0]===t[0]?Je(e,Do(n)):[]}),Bc=Yu(function(t){var n=Oi(t),e=v(t,Br);return n===Oi(e)?n=J:e.pop(),e.length&&e[0]===t[0]?Je(e,J,n):[]}),Wc=Yu(Ni),Fc=Yu(function(t,n){n=Be(n,1);var e=t?t.length:0,r=ge(t,n);return wr(t,v(n,function(t){return Qo(t,e)?+t:t}).sort(Jr)),r}),zc=Yu(function(t){return jr(Be(t,1,ia,!0))}),Uc=Yu(function(t){var n=Oi(t);return ia(n)&&(n=J),jr(Be(t,1,ia,!0),Do(n))}),Yc=Yu(function(t){var n=Oi(t);return ia(n)&&(n=J),jr(Be(t,1,ia,!0),J,n)}),$c=Yu(function(t,n){return ia(t)?Re(t,n):[]}),qc=Yu(function(t){return Gr(p(t,ia))}),Kc=Yu(function(t){var n=Oi(t);return ia(n)&&(n=J),Gr(p(t,ia),Do(n))}),Vc=Yu(function(t){var n=Oi(t);return ia(n)&&(n=J),Gr(p(t,ia),J,n)}),Zc=Yu(eu),Qc=Yu(function(t){var n=t.length,e=n>1?t[n-1]:J;return e="function"==typeof e?(t.pop(),e):J,ru(t,e)}),Jc=Yu(function(t){t=Be(t,1);var n=t.length,e=n?t[0]:0,i=this.__wrapped__,u=function(n){return ge(n,t)};return!(n>1||this.__actions__.length)&&i instanceof o&&Qo(e)?(i=i.slice(e,+e+(n?1:0)),i.__actions__.push({func:su,args:[u],thisArg:J}),new r(i,this.__chain__).thru(function(t){return n&&!t.length&&t.push(J),t})):this.thru(u)}),Xc=io(function(t,n,e){kf.call(t,e)?++t[e]:t[e]=1}),tl=vo(wi),nl=vo(Ei),el=io(function(t,n,e){kf.call(t,e)?t[e].push(n):t[e]=[n]}),rl=Yu(function(t,n,e){var r=-1,o="function"==typeof n,i=Xo(n),u=oa(t)?Array(t.length):[];return Sc(t,function(t){var s=o?n:i&&null!=t?t[n]:J;u[++r]=s?a(s,t,e):tr(t,n,e)}),u}),ol=io(function(t,n,e){t[e]=n}),il=io(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]}),ul=Yu(function(t,n){if(null==t)return[];var e=n.length;return e>1&&Jo(t,n[0],n[1])?n=[]:e>2&&Jo(n[0],n[1],n[2])&&(n=[n[0]]),n=1==n.length&&gl(n[0])?n[0]:Be(n,1,Zo),vr(t,n,[])}),al=Yu(function(t,n,e){var r=ot;if(e.length){var o=Y(e,Po(al));r|=ft}return Co(t,r,n,e,o)}),sl=Yu(function(t,n,e){var r=ot|it;if(e.length){var o=Y(e,Po(sl));r|=ft}return Co(n,r,t,e,o)}),fl=Yu(function(t,n){return Oe(t,1,n)}),cl=Yu(function(t,n,e){return Oe(t,Wa(n)||0,e)});Fu.Cache=Zn;var ll=Yu(function(t,n){n=1==n.length&&gl(n[0])?v(n[0],k(Do())):v(Be(n,1,Zo),k(Do()));var e=n.length;return Yu(function(r){for(var o=-1,i=tc(r.length,e);++o<i;)r[o]=n[o].call(this,r[o]);return a(t,this,r)})}),pl=Yu(function(t,n){var e=Y(n,Po(pl));return Co(t,ft,J,n,e)}),hl=Yu(function(t,n){var e=Y(n,Po(hl));return Co(t,ct,J,n,e)}),dl=Yu(function(t,n){return Co(t,pt,J,J,J,Be(n,1))}),vl=Io(Ke),_l=Io(function(t,n){return t>=n}),gl=Array.isArray,ml=Df?function(t){return t instanceof Df}:rf,yl=Io(sr),bl=Io(function(t,n){return n>=t}),wl=uo(function(t,n){if(hc||ri(n)||oa(n))return void ro(n,rs(n),t);for(var e in n)kf.call(n,e)&&he(t,e,n[e])}),El=uo(function(t,n){if(hc||ri(n)||oa(n))return void ro(n,os(n),t);for(var e in n)he(t,e,n[e])}),Sl=uo(function(t,n,e,r){ro(n,os(n),t,r)}),Il=uo(function(t,n,e,r){ro(n,rs(n),t,r)}),Al=Yu(function(t,n){return ge(t,Be(n,1))}),Ml=Yu(function(t){return t.push(J,le),a(Sl,J,t)}),Tl=Yu(function(t){return t.push(J,ai),a(Rl,J,t)}),Cl=mo(function(t,n,e){t[n]=e},Ys($s)),xl=mo(function(t,n,e){kf.call(t,n)?t[n].push(e):t[n]=[e]},Do),kl=Yu(tr),Ol=uo(function(t,n,e){pr(t,n,e)}),Rl=uo(function(t,n,e,r){pr(t,n,e,r)}),jl=Yu(function(t,n){return null==t?{}:(n=v(Be(n,1),ci),_r(t,Re(jo(t),n)))}),Nl=Yu(function(t,n){return null==t?{}:_r(t,v(Be(n,1),ci))}),Pl=To(rs),Dl=To(os),Ll=lo(function(t,n,e){return n=n.toLowerCase(),t+(e?ws(n):n)}),Gl=lo(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()}),Hl=lo(function(t,n,e){return t+(e?" ":"")+n.toLowerCase()}),Bl=co("toLowerCase"),Wl=lo(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}),Fl=lo(function(t,n,e){return t+(e?" ":"")+Ul(n)}),zl=lo(function(t,n,e){return t+(e?" ":"")+n.toUpperCase()}),Ul=co("toUpperCase"),Yl=Yu(function(t,n){try{return a(t,J,n)}catch(e){return pa(e)?e:new bf(e)}}),$l=Yu(function(t,n){return f(Be(n,1),function(n){n=ci(n),t[n]=al(t[n],t)}),t}),ql=_o(),Kl=_o(!0),Vl=Yu(function(t,n){return function(e){return tr(e,t,n)}}),Zl=Yu(function(t,n){return function(e){return tr(t,e,n)}}),Ql=bo(v),Jl=bo(l),Xl=bo(y),tp=So(),np=So(!0),ep=yo(function(t,n){return t+n}),rp=Mo("ceil"),op=yo(function(t,n){return t/n}),ip=Mo("floor"),up=yo(function(t,n){return t*n}),ap=Mo("round"),sp=yo(function(t,n){return t-n});return n.after=Pu,n.ary=Du,n.assign=wl,n.assignIn=El,n.assignInWith=Sl,n.assignWith=Il,n.at=Al,n.before=Lu,n.bind=al,n.bindAll=$l,n.bindKey=sl,n.castArray=Zu,n.chain=uu,n.chunk=hi,n.compact=di,n.concat=vi,n.cond=zs,n.conforms=Us,n.constant=Ys,n.countBy=Xc,n.create=Ya,n.curry=Gu,n.curryRight=Hu,n.debounce=Bu,n.defaults=Ml,n.defaultsDeep=Tl,n.defer=fl,n.delay=cl,n.difference=Pc,n.differenceBy=Dc,n.differenceWith=Lc,n.drop=_i,n.dropRight=gi,n.dropRightWhile=mi,n.dropWhile=yi,n.fill=bi,n.filter=gu,n.flatMap=mu,n.flatMapDeep=yu,n.flatMapDepth=bu,n.flatten=Si,n.flattenDeep=Ii,n.flattenDepth=Ai,n.flip=Wu,n.flow=ql,n.flowRight=Kl,n.fromPairs=Mi,n.functions=Ja,n.functionsIn=Xa,n.groupBy=el,n.initial=xi,n.intersection=Gc,n.intersectionBy=Hc,n.intersectionWith=Bc,n.invert=Cl,n.invertBy=xl,n.invokeMap=rl,n.iteratee=qs,n.keyBy=ol,n.keys=rs,n.keysIn=os,n.map=Iu,n.mapKeys=is,n.mapValues=us,n.matches=Ks,n.matchesProperty=Vs,n.memoize=Fu,n.merge=Ol,n.mergeWith=Rl,n.method=Vl,n.methodOf=Zl,n.mixin=Zs,n.negate=zu,n.nthArg=Xs,n.omit=jl,n.omitBy=as,n.once=Uu,n.orderBy=Au,n.over=Ql,n.overArgs=ll,n.overEvery=Jl,n.overSome=Xl,n.partial=pl,n.partialRight=hl,n.partition=il,n.pick=Nl,n.pickBy=ss,n.property=tf,n.propertyOf=nf,n.pull=Wc,n.pullAll=Ni,n.pullAllBy=Pi,n.pullAllWith=Di,n.pullAt=Fc,n.range=tp,n.rangeRight=np,n.rearg=dl,n.reject=Cu,n.remove=Li,n.rest=Yu,n.reverse=Gi,n.sampleSize=ku,n.set=cs,n.setWith=ls,n.shuffle=Ou,n.slice=Hi,n.sortBy=ul,n.sortedUniq=$i,n.sortedUniqBy=qi,n.split=Rs,n.spread=$u,n.tail=Ki,n.take=Vi,n.takeRight=Zi,n.takeRightWhile=Qi,n.takeWhile=Ji,n.tap=au,n.throttle=qu,n.thru=su,n.toArray=La,n.toPairs=Pl,n.toPairsIn=Dl,n.toPath=ff,n.toPlainObject=Fa,n.transform=ps,n.unary=Ku,n.union=zc,n.unionBy=Uc,n.unionWith=Yc,n.uniq=Xi,n.uniqBy=tu,n.uniqWith=nu,n.unset=hs,n.unzip=eu,n.unzipWith=ru,n.update=ds,n.updateWith=vs,n.values=_s,n.valuesIn=gs,n.without=$c,n.words=Fs,n.wrap=Vu,n.xor=qc,n.xorBy=Kc,n.xorWith=Vc,n.zip=Zc,n.zipObject=ou,n.zipObjectDeep=iu,n.zipWith=Qc,n.entries=Pl,n.entriesIn=Dl,n.extend=El,n.extendWith=Sl,Zs(n,n),n.add=ep,n.attempt=Yl,n.camelCase=Ll,n.capitalize=ws,n.ceil=rp,n.clamp=ms,n.clone=Qu,n.cloneDeep=Xu,n.cloneDeepWith=ta,n.cloneWith=Ju,n.deburr=Es,n.divide=op,n.endsWith=Ss,n.eq=na,n.escape=Is,n.escapeRegExp=As,n.every=_u,n.find=tl,n.findIndex=wi,n.findKey=$a,n.findLast=nl,n.findLastIndex=Ei,n.findLastKey=qa,n.floor=ip,n.forEach=wu,n.forEachRight=Eu,n.forIn=Ka,n.forInRight=Va,n.forOwn=Za,n.forOwnRight=Qa,n.get=ts,n.gt=vl,n.gte=_l,n.has=ns,n.hasIn=es,n.head=Ti,n.identity=$s,n.includes=Su,n.indexOf=Ci,n.inRange=ys,n.invoke=kl,n.isArguments=ea,n.isArray=gl,n.isArrayBuffer=ra,n.isArrayLike=oa,n.isArrayLikeObject=ia,n.isBoolean=ua,n.isBuffer=ml,n.isDate=aa,n.isElement=sa,n.isEmpty=fa,n.isEqual=ca,n.isEqualWith=la,n.isError=pa,n.isFinite=ha,n.isFunction=da,n.isInteger=va,n.isLength=_a,n.isMap=ya,n.isMatch=ba,n.isMatchWith=wa,n.isNaN=Ea,n.isNative=Sa,n.isNil=Aa,n.isNull=Ia,n.isNumber=Ma,n.isObject=ga,n.isObjectLike=ma,n.isPlainObject=Ta,n.isRegExp=Ca,n.isSafeInteger=xa,n.isSet=ka,n.isString=Oa,n.isSymbol=Ra,n.isTypedArray=ja,n.isUndefined=Na,n.isWeakMap=Pa,n.isWeakSet=Da,n.join=ki,n.kebabCase=Gl,n.last=Oi,n.lastIndexOf=Ri,n.lowerCase=Hl,n.lowerFirst=Bl,n.lt=yl,n.lte=bl,n.max=lf,n.maxBy=pf,n.mean=hf,n.meanBy=df,n.min=vf,n.minBy=_f,n.stubArray=ef,n.stubFalse=rf,n.stubObject=of,n.stubString=uf,n.stubTrue=af,n.multiply=up,n.nth=ji,n.noConflict=Qs,n.noop=Js,n.now=Nu,n.pad=Ms,n.padEnd=Ts,n.padStart=Cs,n.parseInt=xs,n.random=bs,n.reduce=Mu,n.reduceRight=Tu,n.repeat=ks,n.replace=Os,n.result=fs,n.round=ap,n.runInContext=Q,n.sample=xu,n.size=Ru,n.snakeCase=Wl,n.some=ju,n.sortedIndex=Bi,n.sortedIndexBy=Wi,n.sortedIndexOf=Fi,n.sortedLastIndex=zi,n.sortedLastIndexBy=Ui,n.sortedLastIndexOf=Yi,n.startCase=Fl,n.startsWith=js,n.subtract=sp,n.sum=gf,n.sumBy=mf,n.template=Ns,n.times=sf,n.toFinite=Ga,n.toInteger=Ha,n.toLength=Ba,n.toLower=Ps,n.toNumber=Wa,n.toSafeInteger=za,n.toString=Ua,n.toUpper=Ds,n.trim=Ls,n.trimEnd=Gs,n.trimStart=Hs,n.truncate=Bs,n.unescape=Ws,n.uniqueId=cf,n.upperCase=zl,n.upperFirst=Ul,n.each=wu,n.eachRight=Eu,n.first=Ti,Zs(n,function(){var t={};return ze(n,function(e,r){kf.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION=X,f(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),f(["drop","take"],function(t,n){o.prototype[t]=function(e){var r=this.__filtered__;if(r&&!n)return new o(this);e=e===J?1:Xf(Ha(e),0);var i=this.clone();return r?i.__takeCount__=tc(e,i.__takeCount__):i.__views__.push({size:tc(e,Tt),type:t+(i.__dir__<0?"Right":"")}),i},o.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),f(["filter","map","takeWhile"],function(t,n){var e=n+1,r=e==bt||e==Et;o.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:Do(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}}),f(["head","last"],function(t,n){
var e="take"+(n?"Right":"");o.prototype[t]=function(){return this[e](1).value()[0]}}),f(["initial","tail"],function(t,n){var e="drop"+(n?"":"Right");o.prototype[t]=function(){return this.__filtered__?new o(this):this[e](1)}}),o.prototype.compact=function(){return this.filter($s)},o.prototype.find=function(t){return this.filter(t).head()},o.prototype.findLast=function(t){return this.reverse().find(t)},o.prototype.invokeMap=Yu(function(t,n){return"function"==typeof t?new o(this):this.map(function(e){return tr(e,t,n)})}),o.prototype.reject=function(t){return t=Do(t,3),this.filter(function(n){return!t(n)})},o.prototype.slice=function(t,n){t=Ha(t);var e=this;return e.__filtered__&&(t>0||0>n)?new o(e):(0>t?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==J&&(n=Ha(n),e=0>n?e.dropRight(-n):e.take(n-t)),e)},o.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},o.prototype.toArray=function(){return this.take(Tt)},ze(o.prototype,function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),u=/^(?:head|last)$/.test(e),a=n[u?"take"+("last"==e?"Right":""):e],s=u||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,f=u?[1]:arguments,c=e instanceof o,l=f[0],p=c||gl(e),h=function(t){var e=a.apply(n,_([t],f));return u&&d?e[0]:e};p&&i&&"function"==typeof l&&1!=l.length&&(c=p=!1);var d=this.__chain__,v=!!this.__actions__.length,g=s&&!d,m=c&&!v;if(!s&&p){e=m?e:new o(this);var y=t.apply(e,f);return y.__actions__.push({func:su,args:[h],thisArg:J}),new r(y,d)}return g&&m?t.apply(this,f):(y=this.thru(h),g?u?y.value()[0]:y.value():y)})}),f(["pop","push","shift","sort","splice","unshift"],function(t){var e=If[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(o&&!this.__chain__){var n=this.value();return e.apply(gl(n)?n:[],t)}return this[r](function(n){return e.apply(gl(n)?n:[],t)})}}),ze(o.prototype,function(t,e){var r=n[e];if(r){var o=r.name+"",i=dc[o]||(dc[o]=[]);i.push({name:e,func:r})}}),dc[go(J,it).name]=[{name:"wrapper",func:J}],o.prototype.clone=P,o.prototype.reverse=Dn,o.prototype.value=Ln,n.prototype.at=Jc,n.prototype.chain=fu,n.prototype.commit=cu,n.prototype.next=lu,n.prototype.plant=hu,n.prototype.reverse=du,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=vu,Ff&&(n.prototype[Ff]=pu),n}var J,X="4.13.1",tt=200,nt="Expected a function",et="__lodash_hash_undefined__",rt="__lodash_placeholder__",ot=1,it=2,ut=4,at=8,st=16,ft=32,ct=64,lt=128,pt=256,ht=512,dt=1,vt=2,_t=30,gt="...",mt=150,yt=16,bt=1,wt=2,Et=3,St=1/0,It=9007199254740991,At=1.7976931348623157e308,Mt=NaN,Tt=4294967295,Ct=Tt-1,xt=Tt>>>1,kt="[object Arguments]",Ot="[object Array]",Rt="[object Boolean]",jt="[object Date]",Nt="[object Error]",Pt="[object Function]",Dt="[object GeneratorFunction]",Lt="[object Map]",Gt="[object Number]",Ht="[object Object]",Bt="[object Promise]",Wt="[object RegExp]",Ft="[object Set]",zt="[object String]",Ut="[object Symbol]",Yt="[object WeakMap]",$t="[object WeakSet]",qt="[object ArrayBuffer]",Kt="[object DataView]",Vt="[object Float32Array]",Zt="[object Float64Array]",Qt="[object Int8Array]",Jt="[object Int16Array]",Xt="[object Int32Array]",tn="[object Uint8Array]",nn="[object Uint8ClampedArray]",en="[object Uint16Array]",rn="[object Uint32Array]",on=/\b__p \+= '';/g,un=/\b(__p \+=) '' \+/g,an=/(__e\(.*?\)|\b__t\)) \+\n'';/g,sn=/&(?:amp|lt|gt|quot|#39|#96);/g,fn=/[&<>"'`]/g,cn=RegExp(sn.source),ln=RegExp(fn.source),pn=/<%-([\s\S]+?)%>/g,hn=/<%([\s\S]+?)%>/g,dn=/<%=([\s\S]+?)%>/g,vn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_n=/^\w*$/,gn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,mn=/[\\^$.*+?()[\]{}|]/g,yn=RegExp(mn.source),bn=/^\s+|\s+$/g,wn=/^\s+/,En=/\s+$/,Sn=/[a-zA-Z0-9]+/g,In=/\\(\\)?/g,An=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mn=/\w*$/,Tn=/^0x/i,Cn=/^[-+]0x[0-9a-f]+$/i,xn=/^0b[01]+$/i,kn=/^\[object .+?Constructor\]$/,On=/^0o[0-7]+$/i,Rn=/^(?:0|[1-9]\d*)$/,jn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Nn=/($^)/,Pn=/['\n\r\u2028\u2029\\]/g,Dn="\\ud800-\\udfff",Ln="\\u0300-\\u036f\\ufe20-\\ufe23",Gn="\\u20d0-\\u20f0",Hn="\\u2700-\\u27bf",Bn="a-z\\xdf-\\xf6\\xf8-\\xff",Wn="\\xac\\xb1\\xd7\\xf7",Fn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zn="\\u2000-\\u206f",Un=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Yn="A-Z\\xc0-\\xd6\\xd8-\\xde",$n="\\ufe0e\\ufe0f",qn=Wn+Fn+zn+Un,Kn="['’]",Vn="["+Dn+"]",Zn="["+qn+"]",Qn="["+Ln+Gn+"]",Jn="\\d+",Xn="["+Hn+"]",te="["+Bn+"]",ne="[^"+Dn+qn+Jn+Hn+Bn+Yn+"]",ee="\\ud83c[\\udffb-\\udfff]",re="(?:"+Qn+"|"+ee+")",oe="[^"+Dn+"]",ie="(?:\\ud83c[\\udde6-\\uddff]){2}",ue="[\\ud800-\\udbff][\\udc00-\\udfff]",ae="["+Yn+"]",se="\\u200d",fe="(?:"+te+"|"+ne+")",ce="(?:"+ae+"|"+ne+")",le="(?:"+Kn+"(?:d|ll|m|re|s|t|ve))?",pe="(?:"+Kn+"(?:D|LL|M|RE|S|T|VE))?",he=re+"?",de="["+$n+"]?",ve="(?:"+se+"(?:"+[oe,ie,ue].join("|")+")"+de+he+")*",_e=de+he+ve,ge="(?:"+[Xn,ie,ue].join("|")+")"+_e,me="(?:"+[oe+Qn+"?",Qn,ie,ue,Vn].join("|")+")",ye=RegExp(Kn,"g"),be=RegExp(Qn,"g"),we=RegExp(ee+"(?="+ee+")|"+me+_e,"g"),Ee=RegExp([ae+"?"+te+"+"+le+"(?="+[Zn,ae,"$"].join("|")+")",ce+"+"+pe+"(?="+[Zn,ae+fe,"$"].join("|")+")",ae+"?"+fe+"+"+le,ae+"+"+pe,Jn,ge].join("|"),"g"),Se=RegExp("["+se+Dn+Ln+Gn+$n+"]"),Ie=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","isFinite","parseInt","setTimeout"],Me=-1,Te={};Te[Vt]=Te[Zt]=Te[Qt]=Te[Jt]=Te[Xt]=Te[tn]=Te[nn]=Te[en]=Te[rn]=!0,Te[kt]=Te[Ot]=Te[qt]=Te[Rt]=Te[Kt]=Te[jt]=Te[Nt]=Te[Pt]=Te[Lt]=Te[Gt]=Te[Ht]=Te[Wt]=Te[Ft]=Te[zt]=Te[Yt]=!1;var Ce={};Ce[kt]=Ce[Ot]=Ce[qt]=Ce[Kt]=Ce[Rt]=Ce[jt]=Ce[Vt]=Ce[Zt]=Ce[Qt]=Ce[Jt]=Ce[Xt]=Ce[Lt]=Ce[Gt]=Ce[Ht]=Ce[Wt]=Ce[Ft]=Ce[zt]=Ce[Ut]=Ce[tn]=Ce[nn]=Ce[en]=Ce[rn]=!0,Ce[Nt]=Ce[Pt]=Ce[Yt]=!1;var xe={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},ke={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Oe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Re={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},je=parseFloat,Ne=parseInt,Pe="object"==typeof n&&n,De=Pe&&"object"==typeof t&&t,Le=De&&De.exports===Pe,Ge=P("object"==typeof o&&o),He=P("object"==typeof self&&self),Be=P("object"==typeof this&&this),We=Ge||He||Be||Function("return this")(),Fe=Q();(He||{})._=Fe,r=function(){return Fe}.call(n,e,n,t),!(r!==J&&(t.exports=r))}).call(this)}).call(n,e(3)(t),function(){return this}())},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),s=e(5),f=r(s),c=function(t){function n(t,e){o(this,n);var r=i(this,Object.getPrototypeOf(n).call(this,t,e));return r.values={off:0,dim:1,dimFlashSlow:2,dimFlashFast:3,on:4,flashSlow:5,flashFast:6},r}return u(n,t),a(n,[{key:"init",value:function(){return this.setState("on"),this.listen(),this}},{key:"listen",value:function(t){var n=this;this.input.addListener("controlchange","all",function(e){n.push.getEvent(e.data).name===n.name&&(t?t():n.handleClick())})}},{key:"handleClick",value:function(){this.setState("flashFast")}},{key:"setState",value:function(t){var n=this;return this.state=this.values[t],this.output.sendControlChange(this.id,this.state,"all"),this.listeners.map(function(t){t(n.state)}),this.state}}]),n}(f["default"]);n["default"]=c,t.exports=n["default"]},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=function(){function t(n,r){e(this,t),this.push=n,this.name=r.name,this.id=r.id,this.input=r.input,this.output=r.output,this.listeners=[],this.state=null}return r(t,[{key:"addListener",value:function(t){var n=this;this.listeners.push(function(){t(n.state)})}},{key:"announce",value:function(){console.log(this)}}]),t}();n["default"]=o,t.exports=n["default"]},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),s=e(2),f=e(5),c=r(f),l=function(t){function n(t,e){o(this,n);var r=i(this,Object.getPrototypeOf(n).call(this,t,e));return r.col=e.col,r.row=e.row,r.values={off:0,green:.97,pink:.45,skyBlue:.32,paleOrange:.66,violet:.63,blue:.62,turquiose:.61,red:.57,deepBlue:.53,orange:.47,purple:.42,cyan:.29,aqua:.23,lime:.2,fluro:.13,yellow:.1,white:.06,deepRed:.05},r}return u(n,t),a(n,[{key:"selectRand",value:function(){var t=(0,s.sample)(this.values);return t!==this.values.off&&t!==this.values.white?t:void this.selectRand()}},{key:"init",value:function(){return this.setState("white"),this.listen(),this}},{key:"listen",value:function(){var t=this;this.input.addListener("noteon","all",function(n){t.push.getEvent(n.data).name===t.name&&t.handleClick()})}},{key:"handleClick",value:function(){}},{key:"setState",value:function(t){var n=this;return t?this.state=this.values[t]:this.state=this.selectRand(),this.output.playNote(this.id,"all",{velocity:this.state}),this.listeners.map(function(t){t(n.state)}),this.state}}]),n}(c["default"]);n["default"]=l,n["default"]=l,t.exports=n["default"]},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),s=e(5),f=r(s),c=function(t){function n(t,e){o(this,n);var r=i(this,Object.getPrototypeOf(n).call(this,t,e));return r.sensitivity=e.sensitivity,r}return u(n,t),a(n,[{key:"init",value:function(){return this.setState(),this.listen(),this}},{key:"listen",value:function(t){var n=this;this.input.addListener("controlchange","all",function(e){var r=n.push.getEvent(e.data);r.name===n.name&&(t?t():n.setState(r.value))})}},{key:"setState",value:function(t){var n=this;if(!t)return this.state=0;var e=64>=t?t:-128+t;return e*=this.sensitivity,this.state=e,this.listeners.map(function(t){t(n.state)}),this.state}},{key:"setSensitivity",value:function(t){this.sensitivity=t||1}}]),n}(f["default"]);n["default"]=c,t.exports=n["default"]},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=e(2),u=function(){function t(n,e){r(this,t),this.pads=(0,i.filter)(e.pads,function(t){return t.col===n}),this.state=0}return o(t,[{key:"setState",value:function(t){var n=this;t||(t=this.state),t>255&&(t=255),0>t&&(t=0),this.state=t,this.pads.map(function(t,e){255-(32*(8-e)-16)<n.state&&0!==n.state?t.setState("cyan"):t.setState("off")})}}]),t}();n["default"]=u,t.exports=n["default"]}])});